<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.11.0 Release Notes โก The Zig Programming Language</title>
    <link rel="icon" href="https://ziglang.org/favicon.png">
    <style>
      :root{
         --nav-width: 24em;
         --nav-margin-l: 1em;
      }
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        margin: 0;
        line-height: 1.5;
      }
      header {
        padding: 0 1em;
      }
      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        clear: both;
      }
      h1, h2 { font-size: 2.0em; }
      h3 { font-size: 1.5em; }
      h4 { font-size: 1.25em; }
      h5 { font-size: 1.0em; }
      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 1em;
      }
      #navigation {
        padding: 0 1em;
      }

      @media screen and (min-width: 1025px) {
        header {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
        header h1 {
          margin: auto;
          max-width: 30em;
        }
        #navigation {
          overflow: auto;
          width: var(--nav-width);
          height: 100vh;
          position: fixed;
          top:0;
          left:0;
          bottom:0;
          padding: unset;
          margin-left: var(--nav-margin-l);
        }
        #navigation nav ul {
          padding-left: 1em;
        }
        #contents-wrapper {
          margin-left: calc(var(--nav-width) + var(--nav-margin-l));
        }
    }

    a:hover,a:focus {
      background: #fff2a8;
    }
    dt {
      font-weight: bold;
    }
    th, td {
      padding: 0.6em;
    }
    tr:nth-child(even) {
      background: #f2f3f3;
    }
    .t0_1, .t37, .t37_1 {
      font-weight: bold;
    }
    .t2_0 {
      color: #575757;
    }
    .t31_1 {
      color: #b40000;
    }
    .t32_1 {
      color: green;
    }
    .t36_1 {
      color: #005C7A;
    }
    .file {
      font-weight: bold;
      border: unset;
    }
    code {
      background: #f8f8f8;
      border: 1px dotted silver;
      padding-left: 0.3em;
      padding-right: 0.3em;
    }
    pre > code {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    samp {
      background: #fafafa;
    }
    pre > samp {
      display: block;
      overflow: auto;
      padding: 0.5em;
      border: 1px solid #eee;
      line-height: normal;
    }
    kbd {
      font-weight: bold;
    }
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
    }

    .tok-kw {
        color: #333;
        font-weight: bold;
    }
    .tok-str {
        color: #d14;
    }
    .tok-builtin {
        color: #005C7A;
    }
    .tok-comment {
        color: #545454;
        font-style: italic;
    }
    .tok-fn {
        color: #900;
        font-weight: bold;
    }
    .tok-null {
        color: #005C5C;
    }
    .tok-number {
        color: #005C5C;
    }
    .tok-type {
        color: #458;
        font-weight: bold;
    }

    figure {
      margin: auto 0;
    }
    figure pre {
      margin-top: 0;
    }

    figcaption {
      padding-left: 0.5em;
      font-size: small;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    figcaption.zig-cap {
      background: #fcdba5;
    }
    figcaption.c-cap {
      background: #a8b9cc;
      color: #000;
    }
    figcaption.peg-cap {
      background: #fcdba5;
    }
    figcaption.javascript-cap {
      background: #365d95;
      color: #fff;
    }
    figcaption.shell-cap {
      background: #ccc;
      color: #000;
    }

    aside {
      border-left: 0.25em solid #f7a41d;
      padding: 0 1em 0 1em;
    }

    h1 a, h2 a, h3 a, h4 a, h5 a {
      text-decoration: none;
      color: #333;
    }

    a.hdr {
      visibility: hidden;
    }
    h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
      visibility: visible;
    }

    pre {
      counter-reset: line;
    }
    pre .line:before {
      counter-increment: line;
      content: counter(line);
      display: inline-block;
      padding-right: 1em;
      width: 2em;
      text-align: right;
      color: #999;
    }
    th pre code {
        background: none;
    }
    th .line:before {
        display: none;
    }

    #logo {
      width: 100%;
      height: 7em;
      display: block;
      background-image: url(https://ziglang.org/img/zig-logo-dark.svg);
      background-repeat: no-repeat;
    }

    #stage2-progress-dark {
      display: none;
    }

    .diff-red {
      background-color: #ffaeae;
      display: block;
    }
    .diff-green {
      background-color: #bfb;
      display: block;
    }

    @media (prefers-color-scheme: dark) {
      body{
          background:#121212;
          color: #ccc;
      }
      a {
          color: #88f;
      }
      a:hover,a:focus {
          color: #000;
      }
      tr:nth-child(even) {
        background: #1e1e1e;
      }
      .t2_0 {
          color: grey;
      }
      .t31_1 {
          color: red;
      }
      .t32_1 {
          color: #00B800;
      }
      .t36_1 {
          color: #0086b3;
      }
      code {
        background: #222;
        border-color: #444;
      }
      pre > code {
          color: #ccc;
          background: #222;
          border: unset;
      }
      samp {
        background: #000;
        color: #ccc;
      }
      pre > samp {
        border: unset;
      }
      .tok-kw {
          color: #eee;
      }
      .tok-str {
          color: #2e5;
      }
      .tok-builtin {
          color: #ff894c;
      }
      .tok-comment {
          color: #aa7;
      }
      .tok-fn {
          color: #B1A0F8;
      }
      .tok-null {
          color: #ff8080;
      }
      .tok-number {
          color: #ff8080;
      }
      .tok-type {
          color: #68f;
      }
      h1 a, h2 a, h3 a, h4 a, h5 a {
          color: #aaa;
      }
      figcaption.zig-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.peg-cap {
          background-color: #b27306;
          color: #000;
      }
      figcaption.shell-cap {
        background: #2a2a2a;
        color: #fff;
      }
      #logo {
        background-image: url(https://ziglang.org/img/zig-logo-light.svg);
      }
      #stage2-progress-dark {
        display: block;
      }
      #stage2-progress-light {
        display: none;
      }
      .diff-red {
        background-color: #410000;
      }
      .diff-green {
        background-color: #002d00;
      }
    }
  </style>
  </head>
  <body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.11.0 Release Notes</h1>
    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_1.svg" style="height: 18em; float: right">
    <p>
    <a href="https://ziglang.org/download/#release-0.11.0">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong>. These core team members
    are paid for their time:
    </p>
    <ul style="columns: 3">
      <li><a href="https://andrewkelley.me/">Andrew Kelley</a></li>
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://vexu.eu/">Veikka Tuominen</a></li>
      <li><a href="https://github.com/jacobly0">Jacob Young</a></li>
    </ul>
    <p>
    Please consider a <a href="/zsf/">recurring donation to the ZSF</a>
    to help us pay more contributors!
    </p>
    <p>
    This release features <strong>8 months of work</strong>:
    changes from <strong>TODO different contributors</strong>, spread among
    <strong>TODO commits</strong>.</p>
    <h2 id="Table-of-Contents"><a href="#toc-Table-of-Contents">Table of Contents</a> <a class="hdr" href="#Table-of-Contents">ยง</a></h2>

    

    <ul>
        <li><a id="toc-Table-of-Contents" href="#Table-of-Contents">Table of Contents</a></li>
        <li><a id="toc-Support-Table" href="#Support-Table">Support Table</a>
        <ul>
            <li><a id="toc-Tier-System" href="#Tier-System">Tier System</a>
            <ul>
                <li><a id="toc-Tier-1-Support" href="#Tier-1-Support">Tier 1 Support</a></li>
                <li><a id="toc-Tier-2-Support" href="#Tier-2-Support">Tier 2 Support</a></li>
                <li><a id="toc-Tier-3-Support" href="#Tier-3-Support">Tier 3 Support</a></li>
                <li><a id="toc-Tier-4-Support" href="#Tier-4-Support">Tier 4 Support</a></li>
            </ul></li>
            <li><a id="toc-CPU-Architectures" href="#CPU-Architectures">CPU Architectures</a>
            <ul>
                <li><a id="toc-x86" href="#x86">x86</a></li>
                <li><a id="toc-ARM" href="#ARM">ARM</a></li>
                <li><a id="toc-WebAssembly" href="#WebAssembly">WebAssembly</a></li>
                <li><a id="toc-SPARC" href="#SPARC">SPARC</a></li>
                <li><a id="toc-PowerPC" href="#PowerPC">PowerPC</a></li>
                <li><a id="toc-GPGPU" href="#GPGPU">GPGPU</a></li>
            </ul></li>
            <li><a id="toc-Operating-Systems" href="#Operating-Systems">Operating Systems</a>
            <ul>
                <li><a id="toc-Windows" href="#Windows">Windows</a></li>
                <li><a id="toc-Linux" href="#Linux">Linux</a></li>
                <li><a id="toc-macOS" href="#macOS">macOS</a></li>
                <li><a id="toc-OpenBSD" href="#OpenBSD">OpenBSD</a></li>
                <li><a id="toc-NetBSD" href="#NetBSD">NetBSD</a></li>
                <li><a id="toc-WASI" href="#WASI">WASI</a></li>
                <li><a id="toc-UEFI" href="#UEFI">UEFI</a></li>
                <li><a id="toc-Plan9" href="#Plan9">Plan9</a></li>
            </ul></li>
        </ul></li>
        <li><a id="toc-Documentation" href="#Documentation">Documentation</a>
        <ul>
            <li><a id="toc-Language-Reference" href="#Language-Reference">Language Reference</a></li>
            <li><a id="toc-Autodoc" href="#Autodoc">Autodoc</a></li>
        </ul></li>
        <li><a id="toc-Language-Changes" href="#Language-Changes">Language Changes</a>
        <ul>
            <li><a id="toc-Multi-Object-For-Loops" href="#Multi-Object-For-Loops">Multi-Object For Loops</a></li>
            <li><a id="toc-memcpy-and-memset" href="#memcpy-and-memset">@memcpy and @memset</a></li>
            <li><a id="toc-min-and-max" href="#min-and-max">@min and @max</a></li>
            <li><a id="toc-trap-is-now-noreturn" href="#trap-is-now-noreturn">@trap is now noreturn</a></li>
            <li><a id="toc-Add-inComptime-Builtin" href="#Add-inComptime-Builtin">Add @inComptime Builtin</a></li>
            <li><a id="toc-Rename-Casting-Builtins" href="#Rename-Casting-Builtins">Rename Casting Builtins</a></li>
            <li><a id="toc-Cast-Inference" href="#Cast-Inference">Cast Inference</a></li>
            <li><a id="toc-Tuple-Type-Declarations" href="#Tuple-Type-Declarations">Tuple Type Declarations</a></li>
            <li><a id="toc-Concatenation-of-Arrays-and-Tuples" href="#Concatenation-of-Arrays-and-Tuples">Concatenation of Arrays and Tuples</a></li>
            <li><a id="toc-Allow-Indexing-Tuple-and-Vector-Pointers" href="#Allow-Indexing-Tuple-and-Vector-Pointers">Allow Indexing Tuple and Vector Pointers</a></li>
            <li><a id="toc-Overflow-Builtins-Return-Tuples" href="#Overflow-Builtins-Return-Tuples">Overflow Builtins Return Tuples</a></li>
            <li><a id="toc-Slicing-By-Length" href="#Slicing-By-Length">Slicing By Length</a></li>
            <li><a id="toc-Inline-Function-Call-Comptime-Propagation" href="#Inline-Function-Call-Comptime-Propagation">Inline Function Call Comptime Propagation</a></li>
            <li><a id="toc-Exporting-C-Variadic-Functions" href="#Exporting-C-Variadic-Functions">Exporting C Variadic Functions</a></li>
            <li><a id="toc-Added-c_char-Type" href="#Added-c_char-Type">Added c_char Type</a></li>
            <li><a id="toc-Forbid-Runtime-Control-Flow-in-comptime-Blocks-" href="#Forbid-Runtime-Control-Flow-in-comptime-Blocks-">Forbid Runtime Control Flow in comptime Blocks </a></li>
            <li><a id="toc-boolToInt-always-returns-u1" href="#boolToInt-always-returns-u1">@boolToInt always returns u1</a></li>
            <li><a id="toc-Eliminate-Bound-Functions" href="#Eliminate-Bound-Functions">Eliminate Bound Functions</a></li>
            <li><a id="toc-call-Stack" href="#call-Stack">@call Stack</a></li>
            <li><a id="toc-Allow-Tautological-Integer-Comparisons" href="#Allow-Tautological-Integer-Comparisons">Allow Tautological Integer Comparisons</a></li>
            <li><a id="toc-Forbid-Source-Files-Being-Part-of-Multiple-Modules" href="#Forbid-Source-Files-Being-Part-of-Multiple-Modules">Forbid Source Files Being Part of Multiple Modules</a></li>
            <li><a id="toc-Single-Item-Array-Pointers-Gain-ptr-Field" href="#Single-Item-Array-Pointers-Gain-ptr-Field">Single-Item Array Pointers Gain .ptr Field</a></li>
            <li><a id="toc-Allow-Method-Call-Syntax-on-Optional-Pointers" href="#Allow-Method-Call-Syntax-on-Optional-Pointers">Allow Method Call Syntax on Optional Pointers</a></li>
            <li><a id="toc-comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis" href="#comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">comptime Function Calls No Longer Cause Runtime Analysis</a></li>
            <li><a id="toc-Multi-Item-Switch-Prong-Type-Coercion" href="#Multi-Item-Switch-Prong-Type-Coercion">Multi-Item Switch Prong Type Coercion</a></li>
            <li><a id="toc-Allow-Functions-to-Return-null-and-undefined" href="#Allow-Functions-to-Return-null-and-undefined">Allow Functions to Return null and undefined</a></li>
            <li><a id="toc-Generic-Function-Calls" href="#Generic-Function-Calls">Generic Function Calls</a></li>
        </ul></li>
        <li><a id="toc-Standard-Library" href="#Standard-Library">Standard Library</a>
        <ul>
            <li><a id="toc-Memory-Allocation" href="#Memory-Allocation">Memory Allocation</a></li>
            <li><a id="toc-Math" href="#Math">Math</a></li>
            <li><a id="toc-File-System" href="#File-System">File System</a></li>
            <li><a id="toc-Data-Structures" href="#Data-Structures">Data Structures</a></li>
            <li><a id="toc-Crypto" href="#Crypto">Crypto</a></li>
            <li><a id="toc-Concurrency" href="#Concurrency">Concurrency</a></li>
            <li><a id="toc-Networking" href="#Networking">Networking</a></li>
            <li><a id="toc-Testing" href="#Testing">Testing</a></li>
            <li><a id="toc-Debugging" href="#Debugging">Debugging</a>
            <ul>
                <li><a id="toc-Stack-Unwinding" href="#Stack-Unwinding">Stack Unwinding</a></li>
                <li><a id="toc-External-Debug-Info" href="#External-Debug-Info">External Debug Info</a></li>
            </ul></li>
            <li><a id="toc-Formatted-Printing" href="#Formatted-Printing">Formatted Printing</a></li>
            <li><a id="toc-JSON" href="#JSON">JSON</a>
            <ul>
                <li><a id="toc-codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode" href="#codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><code>parse</code> replaced by <code>parseFromSlice</code> or other <code>parseFrom*</code></a>
                <ul>
                    <li><a id="toc-codeparseFreecode-replaced-by-codeParsedTdeinitcode" href="#codeparseFreecode-replaced-by-codeParsedTdeinitcode"><code>parseFree</code> replaced by <code>Parsed(T).deinit()</code></a></li>
                </ul></li>
                <li><a id="toc-codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode" href="#codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><code>Parser.parse</code> replaced by <code>parseFromSlice</code> into <code>Value</code></a>
                <ul>
                    <li><a id="toc-codeValueTreecode-replaced-by-codeParsedValuecode" href="#codeValueTreecode-replaced-by-codeParsedValuecode"><code>ValueTree</code> replaced by <code>Parsed(Value)</code></a></li>
                </ul></li>
                <li><a id="toc-codewriteStreamcode-API-simplification" href="#codewriteStreamcode-API-simplification"><code>writeStream</code> API simplification</a>
                <ul>
                    <li><a id="toc-Custom-codejsonStringifycode-signature-changed" href="#Custom-codejsonStringifycode-signature-changed">Custom <code>jsonStringify</code> signature changed</a></li>
                    <li><a id="toc-codestringifycode-limits-nesting-to-256-by-default" href="#codestringifycode-limits-nesting-to-256-by-default"><code>stringify</code> limits nesting to 256 by default</a></li>
                </ul></li>
                <li><a id="toc-codeStringifyOptionscode-overhauled" href="#codeStringifyOptionscode-overhauled"><code>StringifyOptions</code> overhauled</a></li>
                <li><a id="toc-codeTokenStreamcode-replaced-by-codeScannercode" href="#codeTokenStreamcode-replaced-by-codeScannercode"><code>TokenStream</code> replaced by <code>Scanner</code></a></li>
                <li><a id="toc-codeStreamingParsercode-replaced-by-codeReadercode" href="#codeStreamingParsercode-replaced-by-codeReadercode"><code>StreamingParser</code> replaced by <code>Reader</code></a></li>
                <li><a id="toc-parsestringify-for-codeunioncode-types" href="#parsestringify-for-codeunioncode-types">parse/stringify for <code>union</code> types</a></li>
                <li><a id="toc-An-allocator-is-always-required-for-parsing-now" href="#An-allocator-is-always-required-for-parsing-now">An allocator is always required for parsing now</a></li>
            </ul></li>
        </ul></li>
        <li><a id="toc-Build-System" href="#Build-System">Build System</a>
        <ul>
            <li><a id="toc-Share-the-Compilers-Cache-System" href="#Share-the-Compilers-Cache-System">Share the Compiler's Cache System</a></li>
            <li><a id="toc-Steps-Run-In-Parallel" href="#Steps-Run-In-Parallel">Steps Run In Parallel</a></li>
            <li><a id="toc-Embrace-LazyPath-for-Inputs-and-Outputs" href="#Embrace-LazyPath-for-Inputs-and-Outputs">Embrace LazyPath for Inputs and Outputs</a></li>
            <li><a id="toc-Build-Summary" href="#Build-Summary">Build Summary</a></li>
            <li><a id="toc-System-Resource-Awareness" href="#System-Resource-Awareness">System Resource Awareness</a></li>
            <li><a id="toc-Foreign-Target-Execution-and-Testing" href="#Foreign-Target-Execution-and-Testing">Foreign Target Execution and Testing</a></li>
            <li><a id="toc-Package-Management" href="#Package-Management">Package Management</a></li>
            <li><a id="toc-Configuration-File-Generation" href="#Configuration-File-Generation">Configuration File Generation</a></li>
            <li><a id="toc-Run-Step-Enhancements" href="#Run-Step-Enhancements">Run Step Enhancements</a></li>
        </ul></li>
        <li><a id="toc-Compiler" href="#Compiler">Compiler</a>
        <ul>
            <li><a id="toc-Performance" href="#Performance">Performance</a></li>
            <li><a id="toc-Bootstrapping" href="#Bootstrapping">Bootstrapping</a></li>
            <li><a id="toc-Reproducible-Builds" href="#Reproducible-Builds">Reproducible Builds</a></li>
            <li><a id="toc-C-ABI-Compatibility" href="#C-ABI-Compatibility">C ABI Compatibility</a></li>
            <li><a id="toc-C-Translation" href="#C-Translation">C Translation</a></li>
            <li><a id="toc-Cache-System" href="#Cache-System">Cache System</a></li>
            <li><a id="toc-Code-Generation" href="#Code-Generation">Code Generation</a>
            <ul>
                <li><a id="toc-LLVM-Backend" href="#LLVM-Backend">LLVM Backend</a></li>
                <li><a id="toc-C-Backend" href="#C-Backend">C Backend</a></li>
                <li><a id="toc-x86-Backend" href="#x86-Backend">x86 Backend</a></li>
                <li><a id="toc-WebAssembly-Backend" href="#WebAssembly-Backend">WebAssembly Backend</a></li>
                <li><a id="toc-SPIR-V-Backend" href="#SPIR-V-Backend">SPIR-V Backend</a></li>
                <li><a id="toc-aarch64-Backend" href="#aarch64-Backend">aarch64 Backend</a></li>
            </ul></li>
            <li><a id="toc-Error-Return-Tracing" href="#Error-Return-Tracing">Error Return Tracing</a></li>
            <li><a id="toc-Safety-Checks" href="#Safety-Checks">Safety Checks</a></li>
            <li><a id="toc-Struct-Field-Order" href="#Struct-Field-Order">Struct Field Order</a></li>
            <li><a id="toc-Incremental-Compilation" href="#Incremental-Compilation">Incremental Compilation</a></li>
            <li><a id="toc-Windows-Resource-Files-res" href="#Windows-Resource-Files-res">Windows Resource Files (.res)</a></li>
            <li><a id="toc-New-Module-CLI" href="#New-Module-CLI">New Module CLI</a></li>
        </ul></li>
        <li><a id="toc-Linker" href="#Linker">Linker</a>
        <ul>
            <li><a id="toc-MachO" href="#MachO">MachO</a></li>
            <li><a id="toc-COFF" href="#COFF">COFF</a></li>
            <li><a id="toc-ELF" href="#ELF">ELF</a></li>
            <li><a id="toc-WASM-Modules" href="#WASM-Modules">WASM Modules</a></li>
        </ul></li>
        <li><a id="toc-Bug-Fixes" href="#Bug-Fixes">Bug Fixes</a>
        <ul>
            <li><a id="toc-This-Release-Contains-Bugs" href="#This-Release-Contains-Bugs">This Release Contains Bugs</a></li>
            <li><a id="toc-Bug-Stability-Program" href="#Bug-Stability-Program">Bug Stability Program</a></li>
        </ul></li>
        <li><a id="toc-Toolchain" href="#Toolchain">Toolchain</a>
        <ul>
            <li><a id="toc-LLVM-16" href="#LLVM-16">LLVM 16</a></li>
            <li><a id="toc-musl-124" href="#musl-124">musl 1.2.4</a></li>
            <li><a id="toc-glibc-234" href="#glibc-234">glibc 2.34</a></li>
            <li><a id="toc-mingw-w64-1101" href="#mingw-w64-1101">mingw-w64 11.0.1</a></li>
            <li><a id="toc-WASI-libc" href="#WASI-libc">WASI-libc</a></li>
            <li><a id="toc-compiler-rt" href="#compiler-rt">compiler-rt</a></li>
            <li><a id="toc-zig-cc" href="#zig-cc">zig cc</a></li>
            <li><a id="toc-zig-c" href="#zig-c">zig c++</a></li>
            <li><a id="toc-zig-fmt" href="#zig-fmt">zig fmt</a>
            <ul>
                <li><a id="toc-Canonicalization-of-Identifiers" href="#Canonicalization-of-Identifiers">Canonicalization of Identifiers</a></li>
            </ul></li>
            <li><a id="toc-zig-objcopy" href="#zig-objcopy">zig objcopy</a></li>
        </ul></li>
        <li><a id="toc-Roadmap" href="#Roadmap">Roadmap</a>
        <ul>
            <li><a id="toc-Accepted-Proposals" href="#Accepted-Proposals">Accepted Proposals</a></li>
        </ul></li>
        <li><a id="toc-Thank-You-Contributors" href="#Thank-You-Contributors">Thank You Contributors!</a></li>
        <li><a id="toc-Thank-You-Sponsors" href="#Thank-You-Sponsors">Thank You Sponsors!</a></li>
    </ul>

    

    <h2 id="Support-Table"><a href="#toc-Support-Table">Support Table</a> <a class="hdr" href="#Support-Table">ยง</a></h2>

    TODO add OpenBSD
    <h3 id="Tier-System"><a href="#toc-Tier-System">Tier System</a> <a class="hdr" href="#Tier-System">ยง</a></h3>

    <p>
    A green check mark (โ) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is <em>preventing the target from
      reaching the support tier</em>. In other words, the icons are
    <strong>to-do items</strong>. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    <h4 id="Tier-1-Support"><a href="#toc-Tier-1-Support">Tier 1 Support</a> <a class="hdr" href="#Tier-1-Support">ยง</a></h4>

    <ul>
      <li>Not only can Zig generate machine code for these targets, but the
        <a href="#Standard-Library">Standard Library</a> cross-platform abstractions have implementations
        for these targets.</li>
      <li>The CI server automatically tests these targets on every commit to master
        branch. The ๐งช icon means this target does not yet have CI test coverage.</li>
      <li>The CI server automatically produces pre-built binaries for these targets,
        on every commit to master, and updates
        <a href="https://ziglang.org/download/">the download page</a> with links.
        The ๐ฆ icon means the download page is missing this target.
      </li>
      <li>These targets have <a href="#Debugging">debug info capabilities</a> and therefore
        produce stack traces on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.
          The ๐ icon means there are known <a href="#This-Release-Contains-Bugs">bugs</a> preventing
          this target from reaching Tier 1.
      </li>
      <li><a href="#zig-cc">zig cc</a>, <a href="#zig-c">zig c++</a>, and related toolchain commands support
        this target.</li>
      <li>If the Operating System is proprietary then the target is not marked deprecated
        by the vendor. The ๐ icon means the OS is officially deprecated,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/x86</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 11+</th>
    <th>Windows 8.1+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>โ</td>
    <td>โ</td>
    <td>โ</td>
    <td>โ</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/1929">#1929</a> ๐๐ฆ</td>
    <td>๐</td>
    <td><a href="https://github.com/ziglang/zig/issues/537">#537</a> ๐๐ฆ</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/2443">#2443</a> ๐</td>
    <td>โ</td>
    <td>๐๐ฆ๐งช</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/3174">#3174</a> ๐๐ฆ</td>
    <td>๐</td>
    <td>๐๐ฆ๐งช</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/3345">#3345</a> ๐๐ฆ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/4456">#4456</a> ๐๐ฆ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>sparc64</td>
    <td>โ</td>
    <td><a href="https://github.com/ziglang/zig/issues/4931">#4931</a> ๐๐ฆ๐งช</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>โ</td>
    <td>๐๐ฆ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>โ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>โ</td>
    </tr>
    </tbody>
    </table>
    

    <h4 id="Tier-2-Support"><a href="#toc-Tier-2-Support">Tier 2 Support</a> <a class="hdr" href="#Tier-2-Support">ยง</a></h4>

    <ul>
    <li>The <a href="#Standard-Library">Standard Library</a> supports this target, but it is possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library. The ๐ icon means the
      standard library is too incomplete to be considered Tier 2 worthy.</li>
    <li>These targets are known to work, but may not be automatically tested, so there
      are occasional regressions. ๐ means that nobody has really looked into this target
      so whether or not it works is unknown.</li>
    <li>Some tests may be disabled for these targets as we work toward
      <a href="#Tier-1-Support">Tier 1 Support</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 11+</th>
    <th>Windows 8.1+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>DragonFlyBSD 5.8+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>โ</td>
    <td>โ</td>
    <td>โ</td>
    </tr>
    <tr>
    <td>x86</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>๐</td>
    <td>โ</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>โ</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>๐</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>๐</td>
    </tr>
    <tr>
    <td>arm</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>๐</td>
    <td>๐</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>๐</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>โ</td>
    <td>โ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>โ</td>
    <td>โ</td>
    <td>๐</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>โ</td>
    <td>โ</td>
    <td>๐</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>๐</td>
    </tr>
    <tr>
    <td>sparc64</td>
    <td><a href="#Tier-1-Support">Tier 1</a></td>
    <td>โ</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>๐</td>
    <td>๐</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    </tbody>
    </table>
    

    <h4 id="Tier-3-Support"><a href="#toc-Tier-3-Support">Tier 3 Support</a> <a class="hdr" href="#Tier-3-Support">ยง</a></h4>

    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
      </ul></li>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>Linux 3.16+</th>
          <th>Windows 8.1+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>x86</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>โ</td>
          <td>โ</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>โ</td>
          <td>โ</td>
          <td>โ</td>
          <td>โ</td>
        </tr>
        <tr>
          <td>arm</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>โ</td>
          <td>โ</td>
          <td>โ</td>
          <td>โ</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>โ</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td><a href="#Tier-2-Support">Tier 2</a></td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>csky</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
          <td>โ</td>
          <td>โ</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>freestanding</th>
          <th>emscripten</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>wasm32</td>
          <td><a href="#Tier-1-Support">Tier 1</a></td>
          <td>โ</td>
        </tr>
      </tbody>
    </table>
    

    <h4 id="Tier-4-Support"><a href="#toc-Tier-4-Support">Tier 4 Support</a> <a class="hdr" href="#Tier-4-Support">ยง</a></h4>

    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party, in
        which case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit
        object files, in which case <code>-fno-emit-bin</code> is enabled by
        default and cannot be overridden.</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, 32-bit ARM macOS, powerpc32 and powerpc64 macOS, because
        <a href="https://support.apple.com/en-us/HT208436">Apple has officially dropped support for them</a>.</li>
    </ul>
    
    

    <h3 id="CPU-Architectures"><a href="#toc-CPU-Architectures">CPU Architectures</a> <a class="hdr" href="#CPU-Architectures">ยง</a></h3>

    <h4 id="x86"><a href="#toc-x86">x86</a> <a class="hdr" href="#x86">ยง</a></h4>

    <p>The baseline value used for "i386" was a pentium4 CPU model,
    which is actually i686. It is also possible to target a more bare bones
    CPU than pentium4. Therefore it is more correct to use "x86" rather than
    "i386" for this CPU architecture. This architecture has been renamed in
    the CLI and <a href="#Standard-Library">Standard Library</a> APIs (#4663).</p>
    

    <h4 id="ARM"><a href="#toc-ARM">ARM</a> <a class="hdr" href="#ARM">ยง</a></h4>

    <p>Removed the always-single-threaded limitation for libc++ (#6573).</p>
    <p>Fixed <a href="#Bootstrapping">Bootstrapping</a> on this host.</p>
    <p>Development builds of Zig are now available on the
      <a href="/download">download page</a> with every successful CI run.</p>
    

    <h4 id="WebAssembly"><a href="#toc-WebAssembly">WebAssembly</a> <a class="hdr" href="#WebAssembly">ยง</a></h4>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
<p>Starting from this release, Zig no longer unconditionally passes
<code>--allow-undefined</code> to the <a href="#Linker">Linker</a>. By removing this flag, the user
will now be faced with an error during the linking stage rather than a panic
during runtime for undefined functions. If your project requires such
behavior, the flag <code>import-symbols</code> can be used which will allow
undefined symbols during linking.</p>
<p>For this change we also had to update the
strategy of exporting all symbols to the host. We no longer unconditionally
export all symbols to the host. Previously this would result in unwanted
symbols existing in the final binary. By default we now only export the symbol
to the linker, meaning they will only be visible to other object files so they
can be resolved correctly. If you wish to export a symbol to the host
environment, the flag <code>--export=[name]</code> can be used. Alternatively,
the flag <code>-rdynamic</code> can be used to export all visible symbols to
the host environment. By setting the <code>visibilibity</code> field to
<code>.hidden</code> on <code>std.builtin.ExportOptions</code> a symbol will
remain only visible to the linker and not be exported to the host. With this
breaking change, the linker will behave the same whether a user is using
<a href="#zig-cc">zig cc</a> or Clang directly.</p>
    

    <h4 id="SPARC"><a href="#toc-SPARC">SPARC</a> <a class="hdr" href="#SPARC">ยง</a></h4>

    TODO
    

    <h4 id="PowerPC"><a href="#toc-PowerPC">PowerPC</a> <a class="hdr" href="#PowerPC">ยง</a></h4>

    TODO
    

    <h4 id="GPGPU"><a href="#toc-GPGPU">GPGPU</a> <a class="hdr" href="#GPGPU">ยง</a></h4>

    <p><a href="https://github.com/Snektron/">Robin "Snektron" Voetter</a> writes:</p>
<p>Three new built-in functions are added to aid with writing GPGPU kernels in Zig: <code>@workGroupId</code>, <code>@workItemId</code>, and <code>@workGroupSize</code>. These are respectively used to query the index of the work group of the current thread in a kernel invocation, the size of a work group in threads, and the thread index in the current work group. For now, these are only wired up to work when compiling Zig to AMD GCN machine code via LLVM, that can be used with ROCm. In the future they will be added to the LLVM-based NVPTX and self-hosted SPIR-V backends as well.</p>
<p>For example, the following Zig GPU kernel performs a simple reduction on its inputs:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> block_dim = <span class="tok-number">256</span>;</span>
<span class="line"><span class="tok-kw">var</span> shared: [block_dim]<span class="tok-type">f32</span> <span class="tok-kw">addrspace</span>(.shared) = <span class="tok-null">undefined</span>;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">export</span> <span class="tok-kw">fn</span> <span class="tok-fn">reduce</span>(in: [*]<span class="tok-kw">addrspace</span>(.global) <span class="tok-type">f32</span>, out: [*]<span class="tok-kw">addrspace</span>(.global) <span class="tok-type">f32</span>) <span class="tok-kw">callconv</span>(.Kernel) <span class="tok-type">void</span> {</span>
<span class="line">    <span class="tok-kw">const</span> tid = <span class="tok-builtin">@workItemId</span>(<span class="tok-number">0</span>);</span>
<span class="line">    <span class="tok-kw">const</span> bid = <span class="tok-builtin">@workGroupId</span>(<span class="tok-number">0</span>);</span>
<span class="line">    shared[tid] = in[bid * block_dim + tid];</span>
<span class="line">    <span class="tok-kw">comptime</span> <span class="tok-kw">var</span> i: <span class="tok-type">usize</span> = <span class="tok-number">1</span>;</span>
<span class="line">    <span class="tok-kw">inline</span> <span class="tok-kw">while</span> (i &lt; block_dim) : (i *= <span class="tok-number">2</span>) {</span>
<span class="line">        <span class="tok-kw">if</span> (tid % (i * <span class="tok-number">2</span>) == <span class="tok-number">0</span>) shared[tid] += shared[tid + i];</span>
<span class="line">        <span class="tok-kw">asm</span> <span class="tok-kw">volatile</span> (<span class="tok-str">&quot;s_barrier&quot;</span>);</span>
<span class="line">    }</span>
<span class="line">    <span class="tok-kw">if</span> (tid == <span class="tok-number">0</span>) out[bid] = shared[<span class="tok-number">0</span>];</span>
<span class="line">}</span></code></pre></figure>

<p>This kernel can be compiled to a HIP module for use with ROCm using Zig and clang-offload-bundler:</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig build-obj -target amdgcn-amdhsa-none -mcpu=gfx1100 ./test.zig</kbd>
$ <kbd>clang-offload-bundler -type=o -bundle-align=4096 \
    -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx1100</kbd>
    -input=/dev/null -input=./test.o -output=module.co
</samp></pre></figure>

<p>The resulting module can be loaded directly using <code>hipModuleLoadData</code> and executed using <code>hipModuleLaunchKernel</code>.</p>
    
    

    <h3 id="Operating-Systems"><a href="#toc-Operating-Systems">Operating Systems</a> <a class="hdr" href="#Operating-Systems">ยง</a></h3>

    <h4 id="Windows"><a href="#toc-Windows">Windows</a> <a class="hdr" href="#Windows">ยง</a></h4>

    <ul>
    <li>Fix _tls_index not being defined if libc wasn't linked, and fix x86 name mangling.</li>
    </ul>
commit 02b221051a180a252bb3a092b1cc054469c6fa15
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Dec 9 14:58:16 2022 -0700

    fix aarch64-windows-gnu libc
    
    We were missing some math functions. After this enhancement I verified
    that I was able to cross-compile ninja.exe for aarch64-windows and
    produce a viable binary.

commit fc6d7d2799fa297a65e8bb0052e9e2c7bca5c645
Author: Jacob Young <jacobly0@users.noreply.github.com>
Date:   Sat Dec 10 03:44:25 2022 -0500

    CBE: fix compiling for aarch64-windows
    
    These bugs were triggered in the C backend by aarch64-specific code in
    os/windows.zig.  Intentionally not updating zig1.wasm yet because of
    upcoming changes and since aarch64-windows is not tested on master yet.
    

    <h4 id="Linux"><a href="#toc-Linux">Linux</a> <a class="hdr" href="#Linux">ยง</a></h4>

    TODO
    

    <h4 id="macOS"><a href="#toc-macOS">macOS</a> <a class="hdr" href="#macOS">ยง</a></h4>

    TODO
    

    <h4 id="OpenBSD"><a href="#toc-OpenBSD">OpenBSD</a> <a class="hdr" href="#OpenBSD">ยง</a></h4>

    TODO https://github.com/ziglang/zig/issues/13700
    

    <h4 id="NetBSD"><a href="#toc-NetBSD">NetBSD</a> <a class="hdr" href="#NetBSD">ยง</a></h4>

commit e23d48e61a594cabb735accf4c0a18dab6ae18a2
Merge: e3736badd 8eaf2ff20
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jun 17 14:22:43 2023 -0700

    Merge pull request #15511 from mikdusan/netbsd-pkgsrc
    
    netbsd: pkgsrc
    

    <h4 id="WASI"><a href="#toc-WASI">WASI</a> <a class="hdr" href="#WASI">ยง</a></h4>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
<p>In this release-cycle the <a href="#Standard-Library">Standard Library</a> gained experimental
support for WASI-threads. This means it will be possible to create a
multi-threaded application when targeting WASI without having to change your
codebase. Keep in mind that the feature is still in proposal phase 1 of the
WASI specification, so support within the standard library is still
experimental and bugs are to be expected. As the feature is still experimental,
we still default to single-threaded builds when targeting WebAssembly. To
disable this, one can pass <code>-fno-single-threaded</code> in combination
with the <code>--shared-memory</code> flags. This also requires the cpu
features <code>atomics</code> and <code>bulk-memory</code> to be enabled.</p>

<p>The same flags will also work for freestanding <a href="#WebAssembly">WebAssembly</a> modules, allowing
a user to build a multi-threaded WebAssembly module for other runtimes. Be
aware that the threads in the standard library are only available for WASI. For
freestanding, the user must implement their own such as Web Workers when
building a WebAssembly module for the browser.</p>
    

    <h4 id="UEFI"><a href="#toc-UEFI">UEFI</a> <a class="hdr" href="#UEFI">ยง</a></h4>

    <ul>
    <li>Delete unneeded alignment and use default 4K (#7484).</li>
    <li>Do not use -fPIC when compiling a UEFI application.</li>
    <li>Fixed wrong calling convention used sometimes (#16339).</li>
    </ul>
    

    <h4 id="Plan9"><a href="#toc-Plan9">Plan9</a> <a class="hdr" href="#Plan9">ยง</a></h4>

commit 78c8cb4225c3c3d429764151ad703a4bfa67d75a
Merge: 0f5aff344 5343a2f56
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Jun 16 21:57:33 2023 -0700

    Merge pull request #16003 from g-w1/plan9-lazy-syms
    
    Plan9: lots of fixes
    
    
    

    <h2 id="Documentation"><a href="#toc-Documentation">Documentation</a> <a class="hdr" href="#Documentation">ยง</a></h2>

    TODO
    <h3 id="Language-Reference"><a href="#toc-Language-Reference">Language Reference</a> <a class="hdr" href="#Language-Reference">ยง</a></h3>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_4.svg" style="height: 13em; float: right">
    TODO
    

    <h3 id="Autodoc"><a href="#toc-Autodoc">Autodoc</a> <a class="hdr" href="#Autodoc">ยง</a></h3>

    <p>This feature is still experimental.</p>

    TODO
    
    

    <h2 id="Language-Changes"><a href="#toc-Language-Changes">Language Changes</a> <a class="hdr" href="#Language-Changes">ยง</a></h2>

    <ul>
      <li>Add
      <a href="/documentation/0.11.0/#Peer-Type-Resolution">Peer Type Resolution</a>
      for <code><span class="line">[:s]<span class="tok-kw">const</span> T</span></code> and <code><span class="line">[]T</span></code> (#15709).</li>
    </ul>
    <h3 id="Multi-Object-For-Loops"><a href="#toc-Multi-Object-For-Loops">Multi-Object For Loops</a> <a class="hdr" href="#Multi-Object-For-Loops">ยง</a></h3>

    TODO https://github.com/ziglang/zig/pull/14671
    

    <h3 id="memcpy-and-memset"><a href="#toc-memcpy-and-memset">@memcpy and @memset</a> <a class="hdr" href="#memcpy-and-memset">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/15278
    

    <h3 id="min-and-max"><a href="#toc-min-and-max">@min and @max</a> <a class="hdr" href="#min-and-max">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/14039
    TODO mention the std lib stuff is deleted
    

    <h3 id="trap-is-now-noreturn"><a href="#toc-trap-is-now-noreturn">@trap is now noreturn</a> <a class="hdr" href="#trap-is-now-noreturn">ยง</a></h3>

commit 3d64ed0353ba7ec1ca46f4779fe5d32af8d17358
Author: zooster <r00ster91@proton.me>
Date:   Thu May 18 23:00:35 2023 +0200

    make `@trap` return unreachable/noreturn (#15749)
    
    `@trap` is a special function that we know never returns so it should
    behave just like `@panic` and `@compileError` do currently and cause the
    "unreachable code" + "control flow is diverted here" compile error.
    Currently, `@trap(); @trap();` does not cause this error. Now it does.
    

    <h3 id="Add-inComptime-Builtin"><a href="#toc-Add-inComptime-Builtin">Add @inComptime Builtin</a> <a class="hdr" href="#Add-inComptime-Builtin">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/15290
    

    <h3 id="Rename-Casting-Builtins"><a href="#toc-Rename-Casting-Builtins">Rename Casting Builtins</a> <a class="hdr" href="#Rename-Casting-Builtins">ยง</a></h3>

commit a72d634b731952ee227d026c27e83c5702dcea4a
Merge: c6e2e1ae4 a4d1edac8
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jun 19 22:36:24 2023 -0700

    Merge pull request #16046 from BratishkaErik/issue-6128
    
    Renaming `@xtoy` to `@YfromX`
    

    <h3 id="Cast-Inference"><a href="#toc-Cast-Inference">Cast Inference</a> <a class="hdr" href="#Cast-Inference">ยง</a></h3>

commit 146b79af153bbd5dafda0ba12a040385c7fc58f8
Merge: 13853bef0 21ac0beb4
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jun 24 16:58:19 2023 -0700

    Merge pull request #16163 from mlugg/feat/builtins-infer-dest-ty
    
    Infer destination type of cast builtins using result type
commit e05c242cd89d03ae67fa7b8d5fc33fb5dc42dbe3
Merge: d78517f4f 47d5bf261
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Jul 12 19:13:26 2023 -0700

    Merge pull request #16346 from antlilja/splat-rls
    
    Apply RLS to @splat builtin, eliminating its length parameter

    

    <h3 id="Tuple-Type-Declarations"><a href="#toc-Tuple-Type-Declarations">Tuple Type Declarations</a> <a class="hdr" href="#Tuple-Type-Declarations">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/4335
    

    <h3 id="Concatenation-of-Arrays-and-Tuples"><a href="#toc-Concatenation-of-Arrays-and-Tuples">Concatenation of Arrays and Tuples</a> <a class="hdr" href="#Concatenation-of-Arrays-and-Tuples">ยง</a></h3>

    TODO https://github.com/ziglang/zig/pull/14058
    

    <h3 id="Allow-Indexing-Tuple-and-Vector-Pointers"><a href="#toc-Allow-Indexing-Tuple-and-Vector-Pointers">Allow Indexing Tuple and Vector Pointers</a> <a class="hdr" href="#Allow-Indexing-Tuple-and-Vector-Pointers">ยง</a></h3>

commit ce88c43a4ee94d82a64e7580885dc6693cc6120c
Author: mlugg <mlugg@mlugg.co.uk>
Date:   Wed Jun 7 10:20:34 2023 +0100

    Sema: allow indexing tuple and vector pointers
    
    Resolves: #13852
    Resolves: #14705
    

    <h3 id="Overflow-Builtins-Return-Tuples"><a href="#toc-Overflow-Builtins-Return-Tuples">Overflow Builtins Return Tuples</a> <a class="hdr" href="#Overflow-Builtins-Return-Tuples">ยง</a></h3>

    TODO https://github.com/ziglang/zig/pull/14024
    

    <h3 id="Slicing-By-Length"><a href="#toc-Slicing-By-Length">Slicing By Length</a> <a class="hdr" href="#Slicing-By-Length">ยง</a></h3>

    TODO https://github.com/ziglang/zig/pull/15519
    <code>s[start..][0..len]</code>
    

    <h3 id="Inline-Function-Call-Comptime-Propagation"><a href="#toc-Inline-Function-Call-Comptime-Propagation">Inline Function Call Comptime Propagation</a> <a class="hdr" href="#Inline-Function-Call-Comptime-Propagation">ยง</a></h3>

    TODO https://github.com/ziglang/zig/pull/14015
    TODO mention that zig inlines during semantic analysis and show the consequences of it
    

    <h3 id="Exporting-C-Variadic-Functions"><a href="#toc-Exporting-C-Variadic-Functions">Exporting C Variadic Functions</a> <a class="hdr" href="#Exporting-C-Variadic-Functions">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/515
    

    <h3 id="Added-c_char-Type"><a href="#toc-Added-c_char-Type">Added c_char Type</a> <a class="hdr" href="#Added-c_char-Type">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/875
    This is for <a href="#C-ABI-Compatibility">C ABI Compatibility</a>
commit b77679039fd40aa1693781f99ac89f2dc705e5c2
Merge: 0f2339f55 c205521ae
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Jun 20 16:41:58 2023 -0700

    Merge pull request #15415 from ehaas/c-char-signedness
    
    Set `c_char` signedness based on the target
    

    <h3 id="Forbid-Runtime-Control-Flow-in-comptime-Blocks-"><a href="#toc-Forbid-Runtime-Control-Flow-in-comptime-Blocks-">Forbid Runtime Control Flow in comptime Blocks </a> <a class="hdr" href="#Forbid-Runtime-Control-Flow-in-comptime-Blocks-">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/7056
    

    <h3 id="boolToInt-always-returns-u1"><a href="#toc-boolToInt-always-returns-u1">@boolToInt always returns u1</a> <a class="hdr" href="#boolToInt-always-returns-u1">ยง</a></h3>

commit bfe02ff61a8861c269524c60668a3969cb053720
Author: tison <wander4096@gmail.com>
Date:   Wed May 24 08:01:48 2023 +0800

    make `@boolToInt` always return a u1
    
    Signed-off-by: tison <wander4096@gmail.com>

 src/Sema.zig        | 6 +++---
 src/translate_c.zig | 1 +
 2 files changed, 4 insertions(+), 3 deletions(-)
    

    <h3 id="Eliminate-Bound-Functions"><a href="#toc-Eliminate-Bound-Functions">Eliminate Bound Functions</a> <a class="hdr" href="#Eliminate-Bound-Functions">ยง</a></h3>

    <p>Did you know Zig had bound functions?</p>
    TODO example
    <p>I rest my case. Good riddance!</p>
    

    <h3 id="call-Stack"><a href="#toc-call-Stack">@call Stack</a> <a class="hdr" href="#call-Stack">ยง</a></h3>

commit 6378644d4ea561a79edf44056609681e6d1438d1
Merge: 65270cdc3 51ed5416a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Dec 13 18:15:18 2022 -0500

    Merge pull request #13907 from Vexu/call-merge
    
    Remove `stack` option from `@call`
    

    <h3 id="Allow-Tautological-Integer-Comparisons"><a href="#toc-Allow-Tautological-Integer-Comparisons">Allow Tautological Integer Comparisons</a> <a class="hdr" href="#Allow-Tautological-Integer-Comparisons">ยง</a></h3>

commit 901c3e96368bd9fa9ee9858c0295ee05ef1d7146
Merge: 9cc49548a 35750cd54
Author: Veikka Tuominen <git@vexu.eu>
Date:   Sun Dec 18 01:57:49 2022 +0200

    Merge pull request #13552 from hryx/comparus-tautologicus
    
    Sema: elide integer comparisons with guaranteed outcomes

    

    <h3 id="Forbid-Source-Files-Being-Part-of-Multiple-Modules"><a href="#toc-Forbid-Source-Files-Being-Part-of-Multiple-Modules">Forbid Source Files Being Part of Multiple Modules</a> <a class="hdr" href="#Forbid-Source-Files-Being-Part-of-Multiple-Modules">ยง</a></h3>

    <p>Previously, if a source file was referenced from multiple packages, it just
    became owned by the first one the <a href="#Compiler">Compiler</a> happened to reach; this was a problem,
    because it could lead to inconsistent behaviour in the compiler based on a race
    condition. This could be fixed by just analyzing such files multiple times -
    however, it makes more sense to enforce files being part of at most a single
    package. Having a file in multiple packages would not only impact compile
    times (due to semantic analysis running multiple times on potentially a lot of
    code) but is also a confusing anti-pattern which more often than not is a
    mistake on the part of the user.</p>
    <p>This release also changes how errors are formatted slightly. Previously, entire_file
    module errors were turned into plain errors for output, which caused the
    filename to be omitted (which was quite unhelpful). Now they are tweaked to be
    reported like any other error, just with no outputted source line. This only
    affects entire_file errors, which were only used for retryable errors.</p>
    <p>TODO show example error and how to work around it</p>
    <p>#13662, #13670</p>
    

    <h3 id="Single-Item-Array-Pointers-Gain-ptr-Field"><a href="#toc-Single-Item-Array-Pointers-Gain-ptr-Field">Single-Item Array Pointers Gain .ptr Field</a> <a class="hdr" href="#Single-Item-Array-Pointers-Gain-ptr-Field">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/4765
    

    <h3 id="Allow-Method-Call-Syntax-on-Optional-Pointers"><a href="#toc-Allow-Method-Call-Syntax-on-Optional-Pointers">Allow Method Call Syntax on Optional Pointers</a> <a class="hdr" href="#Allow-Method-Call-Syntax-on-Optional-Pointers">ยง</a></h3>

commit 2be347a2c88e435079333773fc30b8e967cc7068
Author: Ian Johnson <ian@ianjohnson.dev>
Date:   Sat Apr 22 20:44:57 2023 -0400

    Sema: allow method calls on optional pointers
    

    <h3 id="comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis"><a href="#toc-comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">comptime Function Calls No Longer Cause Runtime Analysis</a> <a class="hdr" href="#comptime-Function-Calls-No-Longer-Cause-Runtime-Analysis">ยง</a></h3>

commit 22b0457dd4b73d3cce2e52b77b3b7c9f857c0409
Merge: ac9f72d87 0f58d34ef
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon May 29 23:41:40 2023 -0700

    Merge pull request #15891 from mlugg/fix/dont-emit-fn-called-at-comptime
    
    Prevent analysis of functions only referenced at comptime
    

    <h3 id="Multi-Item-Switch-Prong-Type-Coercion"><a href="#toc-Multi-Item-Switch-Prong-Type-Coercion">Multi-Item Switch Prong Type Coercion</a> <a class="hdr" href="#Multi-Item-Switch-Prong-Type-Coercion">ยง</a></h3>

    TODO https://github.com/ziglang/zig/issues/2812
    

    <h3 id="Allow-Functions-to-Return-null-and-undefined"><a href="#toc-Allow-Functions-to-Return-null-and-undefined">Allow Functions to Return null and undefined</a> <a class="hdr" href="#Allow-Functions-to-Return-null-and-undefined">ยง</a></h3>

commit a257e33fff8dd9efa7f43ea14e05eef65a7f3354
Author: Jacob Young <jacobly0@users.noreply.github.com>
Date:   Tue Jun 20 13:12:15 2023 -0400

    Type: remove arbitrary restrictions on param and return types
    
    Opaque and `noreturn` makes sense since they don't represent real
    values, but `null` and `undefined` are perfectly normal
    comptime-only values.
    
    Closes #16088
    

    <h3 id="Generic-Function-Calls"><a href="#toc-Generic-Function-Calls">Generic Function Calls</a> <a class="hdr" href="#Generic-Function-Calls">ยง</a></h3>

commit 0aacb6369fdf3762b7ab6069955684abb63f1459
Merge: 70c71935c d5d067211
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Jul 19 09:36:57 2023 -0700

    Merge pull request #16318 from ziglang/rework-generics
    
    rework generic function calls

    TODO: inferred error sets recursion
    TODO: recreating struct decls with each call
    

    

    <h2 id="Standard-Library"><a href="#toc-Standard-Library">Standard Library</a> <a class="hdr" href="#Standard-Library">ยง</a></h2>

    <p>The Zig standard library is still unstable and mainly serves as a
    testbed for the language. After there are no more planned <a href="#Language-Changes">Language Changes</a>,
    it will be time to start working on stabilizing the standard library.
    Until then, experimentation and breakage without warning is allowed.</p>
    <ul>
      <li>TODO</li>
    </ul>

    <h3 id="Memory-Allocation"><a href="#toc-Memory-Allocation">Memory Allocation</a> <a class="hdr" href="#Memory-Allocation">ยง</a></h3>

    TODO
    

    <h3 id="Math"><a href="#toc-Math">Math</a> <a class="hdr" href="#Math">ยง</a></h3>

    TODO
    

    <h3 id="File-System"><a href="#toc-File-System">File System</a> <a class="hdr" href="#File-System">ยง</a></h3>

    TODO
    

    <h3 id="Data-Structures"><a href="#toc-Data-Structures">Data Structures</a> <a class="hdr" href="#Data-Structures">ยง</a></h3>

    TODO
    

    <h3 id="Crypto"><a href="#toc-Crypto">Crypto</a> <a class="hdr" href="#Crypto">ยง</a></h3>

    <p>
    We have <a href="https://www.prettysimpleimages.com/">Frank Denis</a> to thank for Zig's
    state-of-the-art cryptography capabilities. In this release:</p>
    TODO
    

    <h3 id="Concurrency"><a href="#toc-Concurrency">Concurrency</a> <a class="hdr" href="#Concurrency">ยง</a></h3>

    TODO
    

    <h3 id="Networking"><a href="#toc-Networking">Networking</a> <a class="hdr" href="#Networking">ยง</a></h3>

    TODO
    

    <h3 id="Testing"><a href="#toc-Testing">Testing</a> <a class="hdr" href="#Testing">ยง</a></h3>

    TODO
    

    <h3 id="Debugging"><a href="#toc-Debugging">Debugging</a> <a class="hdr" href="#Debugging">ยง</a></h3>

    <ul>
      <li>Added support for DWARF5 <code>DW_AT_ranges</code> in subprograms. Some DWARF5 subprograms have non-contiguous instruction ranges, which wasn't supported before. An example of such a function is <code>puts</code> in Ubuntu's libc. Stack traces now include the names of these functions.</li>
      <li>Support for DWARF information embedded inside COFF binaries has been fixed. This is relatively uncommon combination, as typically this information is in a PDB file, but can be output using <code>-gdwarf</code> when compiling C/C++ code for Windows.</li>
    </ul>

    <h4 id="Stack-Unwinding"><a href="#toc-Stack-Unwinding">Stack Unwinding</a> <a class="hdr" href="#Stack-Unwinding">ยง</a></h4>

    <p><a href="https://github.com/kcbanner">Casey Banner</a> writes:</p>
<p>When something goes wrong in your program, at the very least you expect it to output a stack trace. In many cases, upon seeing the stack trace, the error is obvious and can be fixed without needing to attach a debugger. If you are a project maintainer, having correct stack trace output is a necessity for your users to be able to provide actionable bug reports when something goes wrong.</p>
<p>In order to print a stack trace, the panic (or segfault) handler needs to unwind the stack, by traversing back through the stack frames starting at the crash site. Up until now, this was done strictly by utilizing the <a href="https://en.wikipedia.org/wiki/Call_stack#Stack_and_frame_pointers">frame pointer</a>. This method of stack unwinding works assuming that a frame pointer is available, which isn't the case if the code is compiled without one - ie. if <code>-fomit-frame-pointer</code>was used. </p>
<p>It can be beneficial for performance reasons to not use a frame pointer, since this frees up an additional register, so some software maintainers may choose to ship libraries compiled without it. One of the motivating reasons for this change was solving a bug where unwinding a stack trace that started in Ubuntu's libc wasn't working - and indeed it is compiled with <code>-fomit-frame-pointer</code>.</p>
<p>Since <a href="https://github.com/ziglang/zig/pull/15823">#15823</a> was merged, the <a href="#Standard-Library">Standard Library</a> stack unwinder (<code>std.debug.StackIterator</code>) now supports unwinding stacks using both DWARF unwind tables, and <a href="#MachO">MachO</a> compact unwind information. These unwind tables encode how to unwind all the register state and recover the return address for any location in the program. </p>
<p>In order to save space, DWARF unwind tables aren't program-sized lookup tables, but instead sets of opcodes which run on a virtual machine inside the unwinder to build the lookup table dynmamically. Additionally, these tables can define register values in terms of DWARF expressions, which is a separate stack-machine based bytecode. This is all supported in the new unwinder.</p>
<p>As an example of how this improves stack trace output, consider the following zig program and C library (which will be built with <code>-fomit-frame-pointer</code>):</p>
<figure><figcaption class="zig-cap"><cite class="file">main.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">extern</span> <span class="tok-kw">fn</span> <span class="tok-fn">add_mult</span>(x: <span class="tok-type">i32</span>, y: <span class="tok-type">i32</span>, n: ?*<span class="tok-type">i32</span>) <span class="tok-type">i32</span>;</span>
<span class="line"></span>
<span class="line"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">main</span>() !<span class="tok-type">void</span> {</span>
<span class="line">    std.debug.print(<span class="tok-str">&quot;add: {}\n&quot;</span>, .{ add_mult(<span class="tok-number">5</span>, <span class="tok-number">3</span>, <span class="tok-null">null</span>) });</span>
<span class="line">}</span></code></pre></figure>

<figure><figcaption class="c-cap"><cite class="file">lib.c</cite></figcaption><pre><code><span class="line">#include &lt;stdio.h&gt;</span>
<span class="line"></span>
<span class="line">#ifndef LIB_API</span>
<span class="line">#define LIB_API</span>
<span class="line">#endif</span>
<span class="line"></span>
<span class="line">int add_mult3(int x, int y, int* n) {</span>
<span class="line">    puts((const char*)0x1234);</span>
<span class="line">    return (x + y) * (*n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">int add_mult2(int x, int y, int* n) {</span>
<span class="line">    return add_mult3(x, y, n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">int add_mult1(int x, int y, int* n) {</span>
<span class="line">    return add_mult2(x, y, n);</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">LIB_API int add_mult(int x, int y, int* n) {</span>
<span class="line">    return add_mult1(x, y, n);</span>
<span class="line">}</span></code></pre></figure>

<p>Before the stack unwinding changes, the user would see the following output:</p>
<pre><code>Segmentation fault at address 0x1234
???:?:?: 0x7f71d9ec997d in ??? (???)
/home/user/kit/zig/build-stage3-release-linux/lib/zig/std/start.zig:608:37: 0x20a505 in main (main)
            const result = root.main() catch |err| {
                                    ^
Aborted</code></pre>
<p>With the new unwinder:</p>
<pre><code>Segmentation fault at address 0x1234
../sysdeps/x86_64/multiarch/strlen-avx2.S:74:0: 0x7fefd03b297d in ??? (../sysdeps/x86_64/multiarch/strlen-avx2.S)
./libio/ioputs.c:35:16: 0x7fefd0295ee7 in _IO_puts (ioputs.c)
src/lib.c:8:5: 0x7fefd04484aa in add_mult3 (/home/user/temp/stack/src/lib.c)
    puts((const char*)0x1234);
    ^
src/lib.c:13:12: 0x7fefd0448542 in add_mult2 (/home/user/temp/stack/src/lib.c)
    return add_mult3(x, y, n);
           ^
src/lib.c:17:12: 0x7fefd0448572 in add_mult1 (/home/user/temp/stack/src/lib.c)
    return add_mult2(x, y, n);
           ^
src/lib.c:21:12: 0x7fefd04485a2 in add_mult (/home/user/temp/stack/src/lib.c)
    return add_mult1(x, y, n);
           ^
/home/user/temp/stack/src/main.zig:6:45: 0x2123b7 in main (main)
    std.debug.print("add: {}\n", .{ add_mult(5, 3, null) });
                                            ^
/home/user/kit/zig/build-stage3-release-linux/lib/zig/std/start.zig:608:37: 0x2129b4 in main (main)
            const result = root.main() catch |err| {
                                    ^
../sysdeps/nptl/libc_start_call_main.h:58:16: 0x7fefd023ed8f in __libc_start_call_main (../sysdeps/x86/libc-start.c)
../csu/libc-start.c:392:3: 0x7fefd023ee3f in __libc_start_main_impl (../sysdeps/x86/libc-start.c)
???:?:?: 0x212374 in ??? (???)
???:?:?: 0x0 in ??? (???)
Aborted</code></pre>
<p>The unwind information for libc (which comes from a separate file, see below) was loaded and used to unwind the stack correctly, resulting in a much more useful stack trace. </p>
<p>If there is no unwind information available for a given frame, the unwinder will fall back to frame pointer unwinding for the rest of the stack trace. For example, if the above program is built for x86-linux-gnu on the same system (which only has x86_64 libc debug information installed), it results in the following output:</p>
<pre><code>Segmentation fault at address 0x1234
???:?:?: 0xf7dc9555 in ??? (libc.so.6)
Unwind information for `libc.so.6:0xf7dc9555` was not available (error.MissingDebugInfo), trace may be incomplete

???:?:?: 0x0 in ??? (???)
Aborted</code></pre><p>The user is notified that unwind information is missing, and they could choose to install it to enhance the stack trace output.</p>
<p>This system works for both panic traces as well as segfaults. In the case of a segfault, the OS will pass a context (containing the state of all the registers at the time of the segfault) to the handler, which will be used by the unwinder. In the case of a panic, the unwinder still needs a register context, so one is captured by the panic handler. If the program is linking libc, then libc's <code>getcontext</code> is used, otherwise an implementation in <code>std</code> is used if available. On platforms where <code>getcontext</code> isn't available, the stack unwinder falls back to frame pointer based unwinding.</p>
<p>Implementations of <code>getcontext</code> have been added for <code>x86_64-linux</code> and <code>x86-linux</code>.</p>
    

    <h4 id="External-Debug-Info"><a href="#toc-External-Debug-Info">External Debug Info</a> <a class="hdr" href="#External-Debug-Info">ยง</a></h4>

<p>The ELF format allows for splitting debug information sections into separate files. If the user of the software does not typically need to debug it, then debug info can be shipped an as optional dependency to reduce the size of the installation. A primary use case for this feature is libc debug information, which can be quite large. Some distributions have a separate package that contains only the debug info for their libc, which can be installed separately.</p>
<p>These extra files are simply additional ELF files that contain only the debug info sections. As an additional space-saving measure, these sections can also be compressed. For example, in the libc stack traces above the debug information came from <code>/usr/lib/debug/.build-id/69/389d485a9793dbe873f0ea2c93e02efaa9aa3d.debug</code>, not <code>libc.so.6</code>.</p>
<p>Support for reading external debug information has been added, with this set of changes:</p>
<ul>
<li>Support reading the build-id from the elf headers in order to lookup external debug info</li>
<li>Support reading the <code>.gnu_debuglink</code> section to look up external debug info</li>
<li>Add support for reading compressed ELF sections</li>
<li>Rework how sections are loaded from disk in order to support merging the list of sections that are present in the binary itself and the ones from the external debug info</li>
<li>Fixed up some memory management issues with the existing debug information loader</li>
</ul>
    
    

    <h3 id="Formatted-Printing"><a href="#toc-Formatted-Printing">Formatted Printing</a> <a class="hdr" href="#Formatted-Printing">ยง</a></h3>

    <ul>
    <li>Consistent use of "invalid format string" compile error response for badly formatted format strings (#13526)</li>
    </ul>
    

    <h3 id="JSON"><a href="#toc-JSON">JSON</a> <a class="hdr" href="#JSON">ยง</a></h3>

    <p><a href="https://github.com/thejoshwolfe/">Josh Wolfe</a> writes:</p>

    <p>New <code>std.json</code> features:</p>
    <ul>
    <li>Read a json document from a streaming source with <code>json.reader</code>. See <code>json.Token</code> for fine control over the interaction between large tokens, streaming input, and allocators.</li>
    <li>Unlimited <code>{}</code> and <code>[]</code> nesting depth subject to allocator limitations.</li>
    <li>After parsing into a dynamic <code>json.Value</code> tree/array union, you can now call <code>json.parseFromValue*</code> to parse that into a static type <code>T</code> following essentially the same semantics as parsing directly.</li>
    <li>Parsing via <code>json.parseFrom*</code> is customizable by implementing <code>pub fn jsonParse</code> and/or <code>pub fn jsonParseFromValue</code> in your <code>struct</code>, <code>enum</code>, or <code>union(enum)</code>. This mirrors the customizable <code>pub fn jsonStringify</code> functionality.</li>
    <li>Added a generic <code>json.HashMap(T)</code> container for serializing/deserializing objects with arbitrary string fields. It's a thin wrapper around <code>StringArrayHashMapUnmanaged</code> that implements <code>jsonParse</code>, <code>jsonParseFromValue</code>, and <code>jsonStringify</code>.</li>
    <li><code>json.WriteStream</code> features now available to custom <code>pub fn jsonStringify</code> implementations due to the unification of <code>json.stringify</code> and <code>json.WriteStream</code>.</li>
    <li>Writing JSON now supports saving memory by disabling assertions for correct syntax, e.g. disabling assertions that <code>endArray</code> matches a corresponding <code>beginArray</code>.</li>
    </ul>

    <p>Here is an upgrade guide:</p>
    <p><em>These instructions include the breaking changes from
      <a href="https://github.com/ziglang/zig/pull/15602">#15602</a>,
    <a href="https://github.com/ziglang/zig/pull/15705">#15705</a>,
    <a href="https://github.com/ziglang/zig/pull/15981">#15981</a>,
    and <a href="https://github.com/ziglang/zig/pull/16405">#16405</a>.</em></p>

    <h4 id="codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><a href="#toc-codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode"><code>parse</code> replaced by <code>parseFromSlice</code> or other <code>parseFrom*</code></a> <a class="hdr" href="#codeparsecode-replaced-by-codeparseFromSlicecode-or-other-codeparseFromcode">ยง</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.TokenStream.init(slice);</span>
<span class="line"><span class="tok-kw">const</span> options = json.ParseOptions{ .allocator = allocator };</span>
<span class="line"><span class="tok-kw">const</span> result = <span class="tok-kw">try</span> json.parse(T, &amp;stream, options);</span>
<span class="line"><span class="tok-kw">defer</span> json.parseFree(T, result, options);</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> parsed = <span class="tok-kw">try</span> json.parseFromSlice(T, allocator, slice, .{});</span>
<span class="line"><span class="tok-kw">defer</span> parsed.deinit();</span>
<span class="line"><span class="tok-kw">const</span> result = parsed.value;</span></code></pre></figure>
<h5 id="codeparseFreecode-replaced-by-codeParsedTdeinitcode"><a href="#toc-codeparseFreecode-replaced-by-codeParsedTdeinitcode"><code>parseFree</code> replaced by <code>Parsed(T).deinit()</code></a> <a class="hdr" href="#codeparseFreecode-replaced-by-codeParsedTdeinitcode">ยง</a></h5>

<p>See above. Alternatively, use the <code>parseFrom*Leaky</code> variants and manage your own arena.</p>


<h4 id="codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><a href="#toc-codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode"><code>Parser.parse</code> replaced by <code>parseFromSlice</code> into <code>Value</code></a> <a class="hdr" href="#codeParserparsecode-replaced-by-codeparseFromSlicecode-into-codeValuecode">ยง</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> parser = json.Parser.init(allocator, <span class="tok-null">false</span>);</span>
<span class="line"><span class="tok-kw">defer</span> parser.deinit();</span>
<span class="line"><span class="tok-kw">var</span> tree = <span class="tok-kw">try</span> parser.parse(slice);</span>
<span class="line"><span class="tok-kw">defer</span> tree.deinit();</span>
<span class="line"><span class="tok-kw">const</span> root = tree.root;</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> parsed = <span class="tok-kw">try</span> json.parseFromSlice(json.Value, allocator, slice, .{});</span>
<span class="line"><span class="tok-kw">defer</span> parsed.deinit();</span>
<span class="line"><span class="tok-kw">const</span> root = parsed.value;</span></code></pre></figure>

<h5 id="codeValueTreecode-replaced-by-codeParsedValuecode"><a href="#toc-codeValueTreecode-replaced-by-codeParsedValuecode"><code>ValueTree</code> replaced by <code>Parsed(Value)</code></a> <a class="hdr" href="#codeValueTreecode-replaced-by-codeParsedValuecode">ยง</a></h5>

<p>The result of <code>json.parseFrom*(T, ...)</code> (except for <code>json.parseFrom*Leaky(T, ...)</code>) is <code>json.Parsed(T)</code>, which replaces the old <code>ValueTree</code>.</p>



<h4 id="codewriteStreamcode-API-simplification"><a href="#toc-codewriteStreamcode-API-simplification"><code>writeStream</code> API simplification</a> <a class="hdr" href="#codewriteStreamcode-API-simplification">ยง</a></h4>

<p>The default max depth for <code>writeStream</code> is now 256. To specify a deeper max depth, use <code>writeStreamMaxDepth</code>.</p>
<p>You don't need to call <code>arrayElem()</code> anymore.</p>
<p>All the <code>emit*()</code> methods (<code>emitNumber</code>, <code>emitString</code>, <code>emitBool</code>, <code>emitNull</code>, <code>emitJson</code>) replaced by the generic <code>write()</code> method, which takes <code>anytype</code>. The generic <code>json.stringify</code> functionality for structs, unions, etc. is also available in <code>WriteStream.write()</code> (the implementation of <code>stringify</code> now uses <code>WriteStream.write</code>.).</p>
<h5 id="Custom-codejsonStringifycode-signature-changed"><a href="#toc-Custom-codejsonStringifycode-signature-changed">Custom <code>jsonStringify</code> signature changed</a> <a class="hdr" href="#Custom-codejsonStringifycode-signature-changed">ยง</a></h5>

<p>Instead of <code>pub fn jsonStringify(self: *@This(), options: json.StringifyOptions, out_stream: anytype) !void</code>, use <code>pub fn jsonStringify(self: *@This(), jw: anytype) !void</code>, where <code>jw</code> is a mutable pointer to a <code>WriteStream</code>. Instead of writing bytes to the <code>out_stream</code>, you should call <code>write()</code> and <code>beginObject</code> and such on the <code>WriteStream</code>.</p>

<h5 id="codestringifycode-limits-nesting-to-256-by-default"><a href="#toc-codestringifycode-limits-nesting-to-256-by-default"><code>stringify</code> limits nesting to 256 by default</a> <a class="hdr" href="#codestringifycode-limits-nesting-to-256-by-default">ยง</a></h5>

<p>The depth of <code>{</code>/<code>[</code> nesting in the output of <code>json.stringify</code> is now 256. Now that the implementation of <code>stringify</code> uses a <code>WriteStream</code>, we have safety checks for matching <code>endArray</code> to <code>beginArray</code> and such, which requires memory: 1 bit per nesting level. To disable syntax checks and save that memory, use <code>stringifyMaxDepth(..., null)</code>. To make syntax checks available to custom <code>pub fn jsonStringify</code> implementations to arbitrary nesting depth, use <code>stringifyArbitraryDepth</code> and provide an allocator.</p>



<h4 id="codeStringifyOptionscode-overhauled"><a href="#toc-codeStringifyOptionscode-overhauled"><code>StringifyOptions</code> overhauled</a> <a class="hdr" href="#codeStringifyOptionscode-overhauled">ยง</a></h4>

<ul>
<li><code>escape_unicode</code> moved to the top level.</li>
<li><code>escape_solidus</code> removed.</li>
<li><code>string = .Array</code> replaced by <code>.emit_strings_as_arrays = true</code>.</li>
<li><code>whitespace.indent_level</code> removed.</li>
<li><code>whitespace.separator</code> and <code>whitespace.indent</code> combined into <code>.whitespace = .minified</code> vs <code>.whitespace = .indent_2</code> etc.</li>
</ul>
<p><strong>The default whitespace in all contexts is now <code>.minified</code>.</strong> This is changed from the old <code>WriteStream</code> having effectively <code>.indent_1</code>, and the old <code>StringifyOptions{ .whitespace = .{} }</code> having effectively <code>.indent_4</code>.</p>


<h4 id="codeTokenStreamcode-replaced-by-codeScannercode"><a href="#toc-codeTokenStreamcode-replaced-by-codeScannercode"><code>TokenStream</code> replaced by <code>Scanner</code></a> <a class="hdr" href="#codeTokenStreamcode-replaced-by-codeScannercode">ยง</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.TokenStream.init(slice);</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-kw">try</span> stream.next()) |token| {</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> tokenizer = json.Scanner.initCompleteInput(allocator, slice);</span>
<span class="line"><span class="tok-kw">defer</span> tokenizer.deinit();</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-null">true</span>) {</span>
<span class="line">    <span class="tok-kw">const</span> token = <span class="tok-kw">try</span> tokenizer.next();</span>
<span class="line">    <span class="tok-kw">if</span> (token == .end_of_document) <span class="tok-kw">break</span>;</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>See <code>json.Token</code> for more info.</p>


<h4 id="codeStreamingParsercode-replaced-by-codeReadercode"><a href="#toc-codeStreamingParsercode-replaced-by-codeReadercode"><code>StreamingParser</code> replaced by <code>Reader</code></a> <a class="hdr" href="#codeStreamingParsercode-replaced-by-codeReadercode">ยง</a></h4>

<p>For code that used to look like this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">const</span> slice = <span class="tok-kw">try</span> reader.readAllAlloc(allocator, max_size);</span>
<span class="line"><span class="tok-kw">defer</span> allocator.free(slice);</span>
<span class="line"><span class="tok-kw">var</span> tokenizer = json.StreamingParser.init();</span>
<span class="line"><span class="tok-kw">for</span> (slice) |c| {</span>
<span class="line">    <span class="tok-kw">var</span> token1: ?json.Token = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">var</span> token2: ?json.Token = <span class="tok-null">undefined</span>;</span>
<span class="line">    <span class="tok-kw">try</span> tokenizer.feed(c, &amp;token1, &amp;token2);</span>
<span class="line">    <span class="tok-kw">if</span> (token1) |t| {</span>
<span class="line">        handleToken(t);</span>
<span class="line">        <span class="tok-kw">if</span> (token2) |t2| handleToken(t2);</span>
<span class="line">    }</span>
<span class="line">}</span></code></pre></figure>
<p>Now do this:</p>
<figure><figcaption class="zig-cap"><cite class="file">example.zig</cite></figcaption><pre><code><span class="line"><span class="tok-kw">var</span> stream = json.reader(allocator, reader);</span>
<span class="line"><span class="tok-kw">defer</span> stream.deinit();</span>
<span class="line"><span class="tok-kw">while</span> (<span class="tok-null">true</span>) {</span>
<span class="line">    <span class="tok-kw">const</span> token = <span class="tok-kw">try</span> stream.next();</span>
<span class="line">    <span class="tok-kw">if</span> (token == .end_of_document) <span class="tok-kw">break</span>;</span>
<span class="line">    handleToken(token);</span>
<span class="line">}</span></code></pre></figure>
<p>See <code>json.Token</code> for more info.</p>

<h4 id="parsestringify-for-codeunioncode-types"><a href="#toc-parsestringify-for-codeunioncode-types">parse/stringify for <code>union</code> types</a> <a class="hdr" href="#parsestringify-for-codeunioncode-types">ยง</a></h4>

<p>Parsing and stringifying <code>union(enum)</code> types works differently now by default. For <code>const T = union(enum) { s: []const u8, i: i32};</code>, the old behavior used to accept documents in the form <code>&quot;abc&quot;</code> or <code>123</code> to parse into <code>.{.s=&quot;abc&quot;}</code> or <code>.{.i=123}</code> respectively; the new behavior accepts documents in the form <code>{&quot;s&quot;:&quot;abc&quot;}</code> or <code>{&quot;i&quot;:123}</code> instead. Stringifying is updated as well to maintain the bijection.</p>
<p>The dynamic value <code>json.Value</code> can be used for simple int-or-string cases. For more complex cases, you can implement <code>jsonParse</code>, <code>jsonParseFromValue</code>, and <code>jsonStringify</code> as needed.</p>

<h4 id="An-allocator-is-always-required-for-parsing-now"><a href="#toc-An-allocator-is-always-required-for-parsing-now">An allocator is always required for parsing now</a> <a class="hdr" href="#An-allocator-is-always-required-for-parsing-now">ยง</a></h4>

<p>Sorry for the inconvenience. There are some ideas to restore support for allocatorless json parsing, but for now, you always must use an allocator. At a minimum it is used for tracking the <code>{}</code> vs <code>[]</code> nesting depth, and possibly other uses depending on what <code>std.json</code> API is being called.</p>
<p>If you use a <code>std.FixedBufferAllocator</code>, you can make parsing json work at comptime.</p>

    
    

    <h2 id="Build-System"><a href="#toc-Build-System">Build System</a> <a class="hdr" href="#Build-System">ยง</a></h2>

    <p>With this release, the Zig Build System is no longer <strong>experimental</strong>.
    It is the debut of <a href="#Package-Management">Package Management</a>.</p>

    TODO
    * b.installArtifact(exe) rather than exe.install()
    * b.addRunArtifact(exe) rather than exe.run()
    * Each *Build object corresponds to a package, and it's important to do
      steps in the correct context.
    * addTest no longer runs it
    * talk about the build runner communicating with compiler over a protocol
      - no more --enable-cache
    * build summary
    * addition of config step, cmake step
    * the cache system moved to the build system
      - https://github.com/ziglang/zig/pull/14571 (nasm example)
    * allow run step to skip foreign binary execution if executor fails
    * enhancements to CheckObjectStep

commit f99b75360db55413f4accf43a6f4161b14a5de9f
Merge: 3aa0a7ecd 145f93ba9
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Mar 24 07:22:05 2023 +0100

    Merge pull request #15061 from ziglang/fix-15036
    build: fix adding rpaths on darwin, improve CheckObjectStep to allow matching FileSource paths

commit 7c2ba950a758b86893bfbe73521b29895f7ac4f0
Author: kcbanner <kcbanner@gmail.com>
Date:   Fri Jan 27 18:01:49 2023 -0500

    build: .c ofmt does not produce a pdb



 * combine `std.build` and `std.build.Builder` into `std.Build`
 * eliminate `setTarget` and `setBuildMode`; use an options struct for `b.addExecutable` and friends
 * implement passing options to dependency packages.
   * closes #14285
 * rename LibExeObjStep to CompileStep
 * move src.type.CType to std lib, use it from std.Build, this will help with populating config.h files. [motivating change](https://github.com/andrewrk/libmp3lame/commit/a33ffeb1bd0942405af77b6022e1954fad48e09d)

[example of the flexibility this system brings](https://github.com/andrewrk/groovebasin/blob/271bd7e4014e55a089b8d956228d90b57d8e3fa5/build.zig#L5-L31) (this is why we explicitly pass around optimization mode and target everywhere)


commit 60935decd318498529a016eeb1379d943a7e830d
Merge: 4c7f8286d 81c27c74b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 3 14:20:49 2023 -0500

    Merge pull request #14523 from ziglang/zon
    
    introduce Zig Object Notation and use it for the build manifest file (build.zig.zon)


commit 693b12f8e1c1d99d33c01961c1fdc972a5255eb6
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 3 17:22:31 2023 -0700

    std.Build: support exposing and depending on zig modules
    
    New API introduced: std.Build.addModule
    
    This function exposes a zig module with the given name, which can be
    used by packages that depend on this one via std.Build.Dependency.module.
    
    std.Build.Pkg and related functionality is deleted. Every use case has a
    straightforward upgrade path using the new Module struct.
    
    std.Build.OptionsStep.getPackage is replaced by
    std.Build.OptionsStep.createModule.
    
    std.Build.CompileStep.addPackagePath is replaced by
    std.Build.CompileStep.addAnonymousModule.
    
    This partially addresses #14307 by renaming some of the instances of
    "package" to "module".
    
    Closes #14278

commit a5b34a61ab61882bf55d87e4cbc8186215ecf320
Merge: 11cc1c16f b29e3fa2c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Feb 5 08:27:53 2023 -0500

    Merge pull request #14562: std.Build: enhancements to ConfigHeaderStep

commit c6344866f9f6a38acd41f4c0ed36dfe00896f825
Author: Asherah Connor <asherah@hrzn.ee>
Date:   Thu Feb 9 08:45:49 2023 +1100

    std.Build.addAssembly: add missing .kind

commit 5e7b09ce9fbc95ec9fb9e277d262b9b5a5aa1917
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Feb 18 11:31:31 2023 -0700

    std.Build.RunStep: fix default caching logic
    
    RunStep is supposed to auto-detect whether the intend is for
    side-effects or for producing an output file. The auto-detection logic
    was incorrect, and this commit fixes it.
    
    I tested this manually locally. Automated testing will require a more
    significant investment in the test harness, which I will work on in a
    future enhancement.
    
    closes #14666

commit d3c9bfada64230ad17badb739f15a492b4c2c065
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Feb 22 17:23:03 2023 -0700

    std.Build.WriteFileStep: integrate with cache system
    
    And additionally support writing files to source files. This means a
    custom build step in zig's own build.zig is no longer needed for copying
    zig.h because it is handled by WriteFileStep.

commit 26196be344e971c26ed044a39b68d0420cd94b90
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Feb 24 16:02:01 2023 -0700

    rename std.Build.InstallRawStep to ObjCopyStep
    
    And make it not do any installation, only objcopying. We already have
    install steps for doing installation.
    
    This commit also makes ObjCopyStep properly integrate with caching.

commit 653814f76ba5d678ebad91f140417cd5829c6aad
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Mar 3 16:17:23 2023 -0700

    std.Build.addModule: return the created module

commit 8ae92fd17ee9a3d46e4f441864a8544b440c0b2d
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jul 3 21:47:57 2023 -0700

    std.Build.Step.Compile: fix clearing logic for empty cflags
    
    Commit c0b774fbc65e3e406a38d37b02fffda7c5d3df26 originally added this
    logic but it did not properly clear the C command line flags to empty
    when a previous positional argument had command line flags, because it
    never set the "previous" flag to true.
    
    This fixes C compiler flags not being reset to empty when using the
    build system and a second positional argument has no arguments after a
    first positional argument has arguments.
    
    Thanks to @squeek502 for finding this.

commit 6bc9c4f716afbb15465f79f84f61221f394fa5b6
Author: Michael Buckley <mokchira@gmail.com>
Date:   Sat Jul 8 21:38:27 2023 -0400

    std.Build: Add methods for creating modules from a TranslateC object.

commit f2d433a19375734d744656c1c231525aab6ee59f
Merge: 2896266a0 cea864542
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Jul 13 09:48:39 2023 -0700

    Merge pull request #15708 from xxxbxxx/build-link
    
    build: avoid repeating objects when linking a static library

commit 546212ff7baee86d3408c465e906b52e2e585fe1
Merge: 3ec337484 77026c67a
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Fri Jul 14 06:38:33 2023 +0200

    Merge pull request #16398 from ziglang/check-object-elf
    
    std: add ELF parse'n'dump functionality to std.Build.Step.CheckObject

    <h3 id="Share-the-Compilers-Cache-System"><a href="#toc-Share-the-Compilers-Cache-System">Share the Compiler's Cache System</a> <a class="hdr" href="#Share-the-Compilers-Cache-System">ยง</a></h3>

    TODO
    

    <h3 id="Steps-Run-In-Parallel"><a href="#toc-Steps-Run-In-Parallel">Steps Run In Parallel</a> <a class="hdr" href="#Steps-Run-In-Parallel">ยง</a></h3>

commit bd242ce1ce9ef6ffb1af4432d892bf582dcdba8a
Merge: a2c6ecd6d 7177b3994
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Thu Mar 16 04:11:41 2023 -0400

    Merge pull request #14647 from ziglang/build-parallel
    
    zig build: run steps in parallel
    

    <h3 id="Embrace-LazyPath-for-Inputs-and-Outputs"><a href="#toc-Embrace-LazyPath-for-Inputs-and-Outputs">Embrace LazyPath for Inputs and Outputs</a> <a class="hdr" href="#Embrace-LazyPath-for-Inputs-and-Outputs">ยง</a></h3>

    TODO remove output_dir. explain the lazy file path thing
    * Build: make `InstallDirStep` use a `FileSource` Closes #16187
    

    <h3 id="Build-Summary"><a href="#toc-Build-Summary">Build Summary</a> <a class="hdr" href="#Build-Summary">ยง</a></h3>

    TODO
    

    <h3 id="System-Resource-Awareness"><a href="#toc-System-Resource-Awareness">System Resource Awareness</a> <a class="hdr" href="#System-Resource-Awareness">ยง</a></h3>

    TODO
    

    <h3 id="Foreign-Target-Execution-and-Testing"><a href="#toc-Foreign-Target-Execution-and-Testing">Foreign Target Execution and Testing</a> <a class="hdr" href="#Foreign-Target-Execution-and-Testing">ยง</a></h3>

    TODO
commit 626a75bbc21453237f95c186d1fea790f233bc58
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sun Mar 19 16:26:19 2023 -0700

    std.Build.RunStep: fix control flow with qemu+glibc logic

    

    <ul>
    <li>Detect and disallow top-level step name clashes.</li>
    <li>Rename <code><span class="line">std.Build.FooStep</span></code> to <code><span class="line">std.Build.Step.Foo</span></code> (#14947).</li>
    <li>Fixed <code>WriteFile.getFileSource</code> failure on <a href="#Windows">Windows</a> (#15730).</li>
    <li>Allow dynamicbase to be disabled by Step.Compile (#14771).</li>
    </ul>
    <h3 id="Package-Management"><a href="#toc-Package-Management">Package Management</a> <a class="hdr" href="#Package-Management">ยง</a></h3>

    TODO
    

    <h3 id="Configuration-File-Generation"><a href="#toc-Configuration-File-Generation">Configuration File Generation</a> <a class="hdr" href="#Configuration-File-Generation">ยง</a></h3>

commit b129f1b0462e6c80b4a97851ea3aa8b3f0a4aa37
Merge: ff0a88b13 f74285b3b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Fri Jun 23 23:56:18 2023 -0700

    Merge pull request #16037 from Jan200101/PR/cmakedefine-fix
    
    Correct cmakedefine implementation

    

    <h3 id="Run-Step-Enhancements"><a href="#toc-Run-Step-Enhancements">Run Step Enhancements</a> <a class="hdr" href="#Run-Step-Enhancements">ยง</a></h3>

    TODO recommend to use this step for general purpose stuff rather than custom steps.
    TODO show how to use input file, output file

commit 44df3a148b4fa823979638dd8debb484a94a51af
Author: Jakub Konka <kubkon@jakubkonka.com>
Date:   Thu Jul 6 22:26:55 2023 +0200

    std: add prefixed versions of addFileSource and addDirectorySource to Step.Run

commit a7553107345bab99b0f5318e0fd3efae84f56b56
Author: Krzysztof Wolicki <der.teufel.mail@gmail.com>
Date:   Sun Jul 9 21:51:41 2023 +0200

    Changed Step.Run's stdin to accept FileSource (#16358)

    
    

    <h2 id="Compiler"><a href="#toc-Compiler">Compiler</a> <a class="hdr" href="#Compiler">ยง</a></h2>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_2.svg" style="height: 16em; float: right">

    <ul>
    <li>Ensure f128 alignment matches c_longdouble alignment.</li>
    <li><a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3A%22error+message%22+milestone%3A0.11.0+">Many compile error messages were improved to be more helpful</a>.</li>
    <li>Implement packed unions (#13340).</li>
    <li>Support modifiers in inline asm. These are supported using
      <code>%[ident:mod]</code> syntax. This allows requesting, e.g., the "w" (32-bit) vs. "x"
      (64-bit) views of AArch64 registers.</li>
    <li>Fix error reporting the wrong line for struct field inits (#13502).</li>
    <li>zig-cache: support windows drive + fwd-slash paths (#13539).</li>
    <li>Added Valgrind client request support for aarch64 (#13292).</li>
    <li>Added detection of duplicate enum tag values.</li>
    <li>Added a helpful note when using <code><span class="line">**</span></code> on number types (#13871).</li>
    <li>Fixed packed vectors regression from 0.10.0 (#12812) (#13925).</li>
    <li>Fixed lowering a string literal converted to vector (#13897).</li>
    <li>Fixed taking the address of a field in a zero-bit struct (#14000).</li>
    <li>Handle vectors in packed structs (#14004).</li>
    <li>Fixed <code><span class="line"><span class="tok-builtin">@export</span></span></code> with <code><span class="line"><span class="tok-kw">linksection</span></span></code> option (#14035). </li>
    <li>Fixed some spurious "depends on itself" errors (#14159).</li>
    <li>Added <code>-fopt-bisect-limit</code> for debugging <a href="#LLVM-Backend">LLVM Backend</a> miscompilations (#13826).</li>
    <li>Implement AVR address spaces.</li>
    <li>Expose an option for producing 64-bit DWARF info (#15193).</li>
    <li>Added missing compile error for coercing a slice to an anyopaque pointer.</li>
    <li>Added missing compile error for always_inline call of noinline function (#15503).</li>
    <li>Add support for <code>--build-id</code> styles (#15459).</li>
    <li>Deduplicate uses of the same package across dependencies (#15755).</li>
    <li>Added runtime safety for noreturn function returning (#15235).</li>
    <li>Added support for multiple global asm blocks per decl (#16076).</li>
    <li>Fixed auto-numbered enums with signed tag types (#16095).</li>
    <li>Fixed <code><span class="line"><span class="tok-type">usize</span></span></code> type inference in <code><span class="line"><span class="tok-kw">for</span></span></code> range start and end (#16311).</li>
    <li>Fixed wrong error location for <code><span class="line"><span class="tok-builtin">@unionInit</span></span></code> when first parameter is not a type (#16384).</li>
    <li>Include system headers path when compiling preprocessed assembly files (#16449).</li>
    </ul>

    <h3 id="Performance"><a href="#toc-Performance">Performance</a> <a class="hdr" href="#Performance">ยง</a></h3>

    <p>During this release cycle we worked towards <a href="#Incremental-Compilation">Incremental Compilation</a> and linking,
      but it is not ready to be enabled yet. We also worked towards <a href="#Code-Generation">Code Generation</a>
      backends that compete with the <a href="#LLVM-Backend">LLVM Backend</a> instead of depending on it,
      but those are also not ready to be enabled by default yet.</p>
    <p>Those two efforts will yield drastic results. However, even without those done,
      this release of the compiler is generally expected to be a little bit faster and 
      use a little bit less memory than 0.10.x releases.</p>
    <p>Here are some performance data points, 0.10.1 vs this release:</p>
    <ul>
      <li><code>zig build-exe</code> on
        <a href="https://github.com/andrewrk/tetris">this Tetris demo</a>: 14.5% ยฑ  2.7% faster wall clock time, 7.6% ยฑ  0.2% fewer bytes of peak memory usage (x86_64-linux, baseline).</li>
    </ul>
    

    <h3 id="Bootstrapping"><a href="#toc-Bootstrapping">Bootstrapping</a> <a class="hdr" href="#Bootstrapping">ยง</a></h3>

    <p>During this release cycle, the C++ implementation of Zig was <em>deleted</em>.
    The <code>-fstage1</code> flag is no longer a recognized command-line parameter.</p>
    <p>Zig is now bootstrapped using a 2.4 MiB <a href="#WebAssembly">WebAssembly</a>
    file and a C compiler. Please enjoy this blog post which goes into the details:
    <a href="/news/goodbye-cpp/">Goodbye to the C++ Implementation of Zig</a>
    </p>
    <p>Thanks to improvements to the <a href="#C-Backend">C Backend</a>, it is now possible to bootstrap
      on <a href="#Windows">Windows</a> using MSVC.</p>
    <p>Also fixed: bootstrapping the compiler on <a href="#ARM">ARM</a>.</p>
    


    <h3 id="Reproducible-Builds"><a href="#toc-Reproducible-Builds">Reproducible Builds</a> <a class="hdr" href="#Reproducible-Builds">ยง</a></h3>

    <p>According to Zig's
    <a href="https://ziglang.org/documentation/0.11.0/#Build-Mode">build modes documentation</a>:
    </p>
    <ul>
      <li><code>-ODebug/</code> is not required to be reproducible (building the same zig source may output a different, semantically equivalent, binary)</li>
      <li><code>-OReleaseSafe</code>, <code>-OReleaseSmall</code> and <code>-OReleaseFast</code>
        are all required to be reproducible (building the same zig source outputs a
        deterministic binary)</li>
    </ul>
      <p>Terminology:</p>
      <ul>
        <li><strong>stage1</strong> is the compiler implementation in <code>src/stage1/*</code>, compiled with system toolchain</li>
        <li><strong>stage2</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage1.</li>
        <li><strong>stage3</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage2.</li>
        <li><strong>stage4</strong> is the compiler implementation in <code>src/*.zig</code>, compiled with stage3.</li>
      </ul>
      <p>
      In theory, stage3 and stage4 should be byte-for-byte identical when
      compiled in release mode. In practice, this was not true. However, this
      has been fixed in this release. They now produce byte-for-byte identical
      executable files.</p>
      <p>This property is verified by CI checks for these targets:</p>
      <ul>
        <li>x86-64 Linux</li>
        <li>aarch64 macOS</li>
      </ul>
    

    <h3 id="C-ABI-Compatibility"><a href="#toc-C-ABI-Compatibility">C ABI Compatibility</a> <a class="hdr" href="#C-ABI-Compatibility">ยง</a></h3>

    <ul>
      <li>Fixed C ABI compatibility with C <code>double</code> types and add a lot of new
          test coverage for them (#13376).</li>
      <li>Fixed x86_64 sysV ABI of big vectors on avx512 enabled CPUs in the <a href="#LLVM-Backend">LLVM Backend</a> (#13629).</li>
      <li>Fixed some floating-point issues (#14271).</li>
    </ul>
    <p>To get a sense of Zig's C ABI compatibility, have a look at the
    <a href="https://github.com/ziglang/zig/blob/0.11.0/test/tests.zig#L460-L517">target coverage</a>
    and
    <a href="https://github.com/ziglang/zig/tree/0.11.0/test/c_abi">test cases</a>.
    </p>
    

    <h3 id="C-Translation"><a href="#toc-C-Translation">C Translation</a> <a class="hdr" href="#C-Translation">ยง</a></h3>

    <ul>
      <li>Remainder macro fix (#13371).</li>
      <li>Use .identifier tokens in .identifier AST nodes (#13343).</li>
      <li>Cast unsuffixed floats to f64.</li>
      <li>Handle more wrapper types in <code>isAnyopaque</code>.</li>
      <li>Support brace-enclosed string initializers (c++20 9.4.2.1).</li>
      <li>Fixed codegen when C source has variables named the same as mangling prefixes (#15420).</li>
      <li>Deduplicate global declarations (#15456).</li>
      <li>Use <code><span class="line"><span class="tok-builtin">@constCast</span></span></code> and <code><span class="line"><span class="tok-builtin">@volatileCast</span></span></code> to remove CV-qualifiers instead of converting a pointer to an int and then back to a pointer.</li>
    </ul>
    

    <h3 id="Cache-System"><a href="#toc-Cache-System">Cache System</a> <a class="hdr" href="#Cache-System">ยง</a></h3>

commit 81d2135ca6ebd71b8c121a19957c8fbf7f87125b
Merge: 32ce2f91a 984acae12
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Nov 23 14:51:22 2022 -0500

    Merge pull request #13596 from ziglang/cache-path-prefixes
    
    Cache: introduce prefixes to manifests

commit 8ccb9a6ad327a4d7fbc321b33d4aa66a27a1f5ee
Author: Casey Banner <kcbanner@gmail.com>
Date:   Tue Dec 6 23:15:54 2022 -0500

    cache: Fix LockViolation during C compilation paths (#13591)
    
    - C compilation flows didn't hold an exclusive lock on the cache manifest file when writing to it in all cases
    - On windows, explicitly unlock the file lock before closing it

commit 8ff9284c469226faa2be0c73ab27672e1e8a55d1
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Wed Dec 14 17:19:43 2022 -0700

    glibc: avoid poisoning the cache namespace with zig lib dir
    
    In glibc.zig, there were a few instances where the zig lib dir path name
    incorrectly made its way into the cache namespace for various build
    artifacts, resulting in unnecessary rebuilds of glibc.
    
    Closes #13619

commit a3e2ee091139740d076da1176ac8c487ca20a9a6
Author: Casey Banner <kcbanner@gmail.com>
Date:   Wed Jan 4 14:51:43 2023 -0500

    Fix another LockViolation case on Windows (#14162)
    
    - Add an assert that an exclusive lock is help to writeManifest
    - Only call writeManifest in updateCObject if an exclusive lock is held
    - cache: fixup test to verify hits don't take an exclusive lock, instead of writing the manifest

    

    <h3 id="Code-Generation"><a href="#toc-Code-Generation">Code Generation</a> <a class="hdr" href="#Code-Generation">ยง</a></h3>

    TODO

    <h4 id="LLVM-Backend"><a href="#toc-LLVM-Backend">LLVM Backend</a> <a class="hdr" href="#LLVM-Backend">ยง</a></h4>

    <ul>
      <li>Mangle extern function names for Wasm target (#13396).</li>
      <li>Improved emitted debug info (#12257) (#12665) (#13719) (#14130) (#15349).</li>
      <li>Improved load elision (#12215).</li>
      <li>Fixed f16, f32, and f64 signaled NaN bitcasts (#14198).</li>
      <li>Implement Stdcall calling convention.</li>
      <li>Optimize access of array member in a structure.</li>
      <li>Stop generating FPU code if there is no FPU (#14465).</li>
      <li>Began work on eliminating dependency on LLVM's IRBuilder API (#13265).</li>
    </ul>
    

    <h4 id="C-Backend"><a href="#toc-C-Backend">C Backend</a> <a class="hdr" href="#C-Backend">ยง</a></h4>

    <p>
    Now passing <strong>1652/1679 (98%)</strong> of the behavior tests, compared to the
    <a href="#LLVM-Backend">LLVM Backend</a>.
    </p>
    <p>The generated C code is now MSVC-compatible.</p>
    <p>This backend is now used for <a href="#Bootstrapping">Bootstrapping</a> and is
    no longer considered <strong>experimental</strong>.</p>
    <p>It has seen some optimizations to reduce the size of the outputted C code, such
    as reusing locals where possible. However, there are still many more optimizations that
    could be done to further reduce the size of the outputted C code.</p>
    

    <h4 id="x86-Backend"><a href="#toc-x86-Backend">x86 Backend</a> <a class="hdr" href="#x86-Backend">ยง</a></h4>

    <p>Although the x86 backend is still considered <strong>experimental</strong>, it
    is now passing <strong>1474/1679 (88%)</strong> of the behavior tests,
    compared to the <a href="#LLVM-Backend">LLVM Backend</a>.</p>
    

    <h4 id="WebAssembly-Backend"><a href="#toc-WebAssembly-Backend">WebAssembly Backend</a> <a class="hdr" href="#WebAssembly-Backend">ยง</a></h4>

    <p>This release did not see many user-facing features added to the
    WebAssembly backend. A few notable features are:</p>
    <ul>
      <li>atomics</li>
      <li>packed structs</li>
      <li>initial SIMD support</li>
      <li>Several safety-checks</li>
    </ul>
    <p>
Besides those language features, the WebAssembly backend now also uses the
regular <code>start.zig</code> logic as well as the standard test-runner. This is a big
step as the default test-runner logic uses a client-server architecture,
requiring a lot of the language to be implemented for it to work. This will
also help us further with completing the WebAssembly backend as the test-runner
provides us with more details about which test failed.
    </p>
    <p>
    Lastly, a lot of bugs and miscompilations were fixed, passing more behavior tests.
    Although the WebAssembly backend is still considered
    <strong>experimental</strong>, it is now passing <strong>1428/1657
    (86%)</strong> of the behavior tests, compared to the <a href="#LLVM-Backend">LLVM Backend</a>.</p>
    

    <h4 id="SPIR-V-Backend"><a href="#toc-SPIR-V-Backend">SPIR-V Backend</a> <a class="hdr" href="#SPIR-V-Backend">ยง</a></h4>

    <p><a href="https://github.com/Snektron/">Robin "Snektron" Voetter</a> writes:</p>
  <p>This release cycle saw significant improvement of the self-hosted SPIR-V backend. SPIR-V is a bytecode representation for shaders and kernels that run on GPUs. For now, the SPIR-V backend of Zig is focused on generating code for OpenCL kernels, though Vulkan compatible shaders may see support in the future too.</p>
  <p>The main contributions in this release cycle feature a crude assembler for SPIR-V inline assembly, which is useful for supporting fringe types and operations, and other features from SPIR-V that do not expose itself well from within Zig.</p>
  <p>The backend also saw improvements to codegen, and is now able to compile and execute about 37% of the compiler behavior test suite on select OpenCL implementations. Unfortunately this does not yet include Rusticl, which is currently missing a few features that the Zig SPIR-V backend requires.</p>
  <p>Currently, executing SPIR-V tests requires third-party implementations of the test runner and test executor. In the future, these will be integrated further with Zig.</p>
    

    <h4 id="aarch64-Backend"><a href="#toc-aarch64-Backend">aarch64 Backend</a> <a class="hdr" href="#aarch64-Backend">ยง</a></h4>

    <p>During this release cycle, some progress was made on this
    <strong>experimental</strong> backend, but there is nothing user-facing to
    report. It has not yet graduated beyond the <strong>simplified start
    code</strong> routines, so we have no behavior test percentage to report.</p>
    
    

    <h3 id="Error-Return-Tracing"><a href="#toc-Error-Return-Tracing">Error Return Tracing</a> <a class="hdr" href="#Error-Return-Tracing">ยง</a></h3>

    TODO turn https://github.com/ziglang/zig/issues/13618 into release notes
    

    <h3 id="Safety-Checks"><a href="#toc-Safety-Checks">Safety Checks</a> <a class="hdr" href="#Safety-Checks">ยง</a></h3>

commit b8473ae7d333ea2750e55e712722d446076e99d9
Merge: 648579b33 b2b1d421c
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Nov 29 19:59:55 2022 -0500

    Merge pull request #13693 from Vexu/safety
    
    Safety panic improvements & some bug fixes

commit 9684947faae674e093dda4c81d94f51b9568369e
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Sat Jun 24 15:03:15 2023 -0700

    compiler: start moving safety-checks into backends
    
    This actually used to be how it worked in stage1, and there was this
    issue to change it: #2649
    
    So this commit is a reversal to that idea. One motivation for that issue
    was avoiding emitting the panic handler in compilations that do not have
    any calls to panic. This commit only resolves the panic handler in the
    event of a safety check function being emitted, so it does not have that
    flaw.
    
    The other reason given in that issue was for optimizations that elide
    safety checks. It's yet to be determined whether that was a good idea or
    not; this can get re-explored when we start adding optimization passes
    to AIR.
    
    This commit adds these AIR instructions, which are only emitted if
    `backendSupportsFeature(.safety_checked_arithmetic)` is true:
     * add_safe
     * sub_safe
     * mul_safe
    
    It removes these nonsensical AIR instructions:
     * addwrap_optimized
     * subwrap_optimized
     * mulwrap_optimized
    
    The safety-checked arithmetic functions push the burden of invoking the
    panic handler into the backend. This makes for a messier compiler
    implementation, but it reduces the amount of AIR instructions emitted by
    Sema, which reduces time spent in the secondary bottleneck of the
    compiler. It also generates more compact LLVM IR, reducing time spent in
    the primary bottleneck of the compiler.
    
    Finally, it eliminates 1 stack allocation per safety-check which was
    being used to store the resulting tuple. These allocations were going to
    be annoying when combined with suspension points.
    

    <h3 id="Struct-Field-Order"><a href="#toc-Struct-Field-Order">Struct Field Order</a> <a class="hdr" href="#Struct-Field-Order">ยง</a></h3>

commit e646becd04c37fbaaa654f6419dd9f5e85d9f210
Merge: 37424fd11 b2c85464b
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Mon Jan 16 21:19:48 2023 -0500

    Merge pull request #14336 from Vexu/field-reorder
    
    Sema: automatically optimize order of struct fields
    

    <h3 id="Incremental-Compilation"><a href="#toc-Incremental-Compilation">Incremental Compilation</a> <a class="hdr" href="#Incremental-Compilation">ยง</a></h3>

    TODO
    TODO mention InternPool
    TODO outline the roadmap to get there
    

    <h3 id="Windows-Resource-Files-res"><a href="#toc-Windows-Resource-Files-res">Windows Resource Files (.res)</a> <a class="hdr" href="#Windows-Resource-Files-res">ยง</a></h3>

commit b11170294052585ae81b9946d770f860d163da8f
Author: Ryan Liptak <squeek502@hotmail.com>
Date:   Sat Jun 24 15:22:56 2023 -0700

    Recognize the .res extension and link it as if it were an object file
    
    .res files are compiled Windows resource files that get linked into executables/libraries. The linker knows what to do with them, but previously you had to trick Zig into thinking it was an object file (by renaming it to have the .obj extension, for example).
    
    After this commit, the following works:
    
        zig build-exe main.zig resource.res
    
    or, in build.zig:
    
        exe.addObjectFile("resource.res");
    
    Closes #6488
    

    <h3 id="New-Module-CLI"><a href="#toc-New-Module-CLI">New Module CLI</a> <a class="hdr" href="#New-Module-CLI">ยง</a></h3>

commit 7f691b3fe26f623d108a6b2b2018bbc3aa999224
Merge: 05da5b32a f94cbab3a
Author: Andrew Kelley <andrew@ziglang.org>
Date:   Tue Feb 21 11:43:31 2023 -0500

    Merge pull request #14664 from mlugg/feat/new-module-cli
    
    New module CLI
    

    

    <h2 id="Linker"><a href="#toc-Linker">Linker</a> <a class="hdr" href="#Linker">ยง</a></h2>

    <p>
    Depending on the target, Zig will use <a href="#LLVM-16">LLD</a>, or its own
    linker implementation. In order to override the default, pass <code>-fLLD</code>
    or <code>-fno-LLD</code>.
    </p>

commit b3f4e0d091d83874af849f1d1a2328ad7c154d42
Author: Motiejus Jakลกtys <motiejus@uber.com>
Date:   Fri Dec 16 09:29:09 2022 +0200

    Elf: switch link order of libcompiler_rt and libc

    TODO: note: this commit message has a lot of possibly interesting text


    <h3 id="MachO"><a href="#toc-MachO">MachO</a> <a class="hdr" href="#MachO">ยง</a></h3>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_2.svg" style="height: 16em; float: right">
    TODO
    

    <h3 id="COFF"><a href="#toc-COFF">COFF</a> <a class="hdr" href="#COFF">ยง</a></h3>

    TODO
    

    <h3 id="ELF"><a href="#toc-ELF">ELF</a> <a class="hdr" href="#ELF">ยง</a></h3>

    TODO
    

    <h3 id="WASM-Modules"><a href="#toc-WASM-Modules">WASM Modules</a> <a class="hdr" href="#WASM-Modules">ยง</a></h3>

    <p><a href="https://github.com/Luukdegram">Luuk de Gram</a> writes:</p>
    <p>During this release, a lot of work has gone into the in-house WebAssembly
    linker. The biggest feature it gained was the support of the <code>shared
    memory</code> feature. This allows multiple WebAssembly modules to access the
    same memory. This feature opens support for multi-threading in WebAssembly.
    This also required us to implement support for Thread-Local Storage. The linker is now fully
    capable of linking with <a href="#WASI-libc">WASI-libc</a>, also. Users can now make use of the in-house
    linker by supplying the <code>-fno-LLD</code> flag to your <code>zig
    build-{lib/exe}</code> CLI invocation.</p>

    <p>We are closer than ever to replace LLVM's linker wasm-ld with our
    in-house linker. The last feature to implement for statically built
    WebAssembly modules is garbage collection. This ensures unreferenced
    symbols get removed from the final binary keeping the binaries small in
    disk size. Once implemented, we can make the in-house linker the default
    linker when builing a WebAssembly module and gather feedback and fix any
    bugs that haven't been found yet. We can then start working on other
    features such as dynamic-linking support and any future proposals.</p>
    

    


    <h2 id="Bug-Fixes"><a href="#toc-Bug-Fixes">Bug Fixes</a> <a class="hdr" href="#Bug-Fixes">ยง</a></h2>

    <p><a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.11.0">Full list of the 711 bug reports closed during this release cycle</a>.</p>
    <p>Many bugs were both introduced and resolved within this release cycle.
    Most bug fixes are omitted from these release notes for the sake of brevity.</p>
    <h3 id="This-Release-Contains-Bugs"><a href="#toc-This-Release-Contains-Bugs">This Release Contains Bugs</a> <a class="hdr" href="#This-Release-Contains-Bugs">ยง</a></h3>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_8.svg" style="height: 13em; float: right">
    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.11.0, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    <p>When Zig reaches 1.0.0, <a href="#Tier-1-Support">Tier 1 Support</a> will gain a bug policy as an additional
    requirement.</p>
    <p>A <a href="https://github.com/ziglang/zig/milestone/21">0.11.1 release</a> is planned.
    Please test your projects against 0.11.0 and report any problems on the issue tracker
    so that we can deliver a stable 0.11.1 release.
    </p>
    

    <h3 id="Bug-Stability-Program"><a href="#toc-Bug-Stability-Program">Bug Stability Program</a> <a class="hdr" href="#Bug-Stability-Program">ยง</a></h3>

    TODO
    
    

    <h2 id="Toolchain"><a href="#toc-Toolchain">Toolchain</a> <a class="hdr" href="#Toolchain">ยง</a></h2>

    <ul>
      <li>Ability to specify a custom test runner via a new <code>--test-runner</code> CLI
        option, or the <code><span class="line">std.Build.test_runner_path</span></code> field (#6621).</li>
    </ul>
    <h3 id="LLVM-16"><a href="#toc-LLVM-16">LLVM 16</a> <a class="hdr" href="#LLVM-16">ยง</a></h3>

    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/16.0.0/docs/ReleaseNotes.html">LLVM 16.0.6</a>.
    </p>
    <p>During this release cycle, it has become a goal of the Zig project to eventually
    <a href="https://github.com/ziglang/zig/issues/16270">eliminate all dependencies on LLVM, LLD, and Clang libraries</a>. There will still be an <a href="#LLVM-Backend">LLVM Backend</a>, however it will
    <a href="https://github.com/ziglang/zig/issues/13265">directly output bitcode files rather than using LLVM C++ APIs</a>.</p>
    

    <h3 id="musl-124"><a href="#toc-musl-124">musl 1.2.4</a> <a class="hdr" href="#musl-124">ยง</a></h3>

    <p>
    Zig ships with the source code to <a href="http://musl.libc.org/">musl</a>.
    When the musl C ABI is selected, Zig builds static musl from source for the selected target.
    Zig also supports targeting dynamically linked musl which is useful for Linux distributions
    that use it as their system libc, such as
    <a href="https://www.alpinelinux.org/">Alpine Linux</a>.
    </p>
    <p>
    This release upgrades from v1.2.3 to v1.2.4.
    </p>
    

    <h3 id="glibc-234"><a href="#toc-glibc-234">glibc 2.34</a> <a class="hdr" href="#glibc-234">ยง</a></h3>

    <img alt="Zero the Ziguana" src="https://ziglang.org/img/Zero_3.svg" style="height: 17em; float: right">
    TODO glibc is still stuck on the old version
    <ul>
    <li>Allow linking against external libcrypt (#5990).</li>
    </ul>
    

    <h3 id="mingw-w64-1101"><a href="#toc-mingw-w64-1101">mingw-w64 11.0.1</a> <a class="hdr" href="#mingw-w64-1101">ยง</a></h3>

    <p>
    Zig ships with the source code to <a href="https://mingw-w64.org/">mingw-w64</a>.
    When targeting *-windows-gnu and linking against libc, Zig builds mingw-w64 from source
    for the selected target.
    </p>
    <p>This release updates the bundled mingw-w64 source code to
    <a href="https://sourceforge.net/p/mingw-w64/mailman/message/37837156/">v11.0.1</a>.</p>
    <ul>
      <li>Added missing vscprintf.c file (#13733).</li>
    </ul>
    

    <h3 id="WASI-libc"><a href="#toc-WASI-libc">WASI-libc</a> <a class="hdr" href="#WASI-libc">ยง</a></h3>

    TODO
    

    <h3 id="compiler-rt"><a href="#toc-compiler-rt">compiler-rt</a> <a class="hdr" href="#compiler-rt">ยง</a></h3>

    <p>
    compiler-rt is the library that provides, for example, 64-bit integer multiplication for
    32-bit architectures which do not have a machine code instruction for it.
    In the <a href="https://gcc.gnu.org/">GNU</a> world, it is called libgcc.
    </p>
    <p>
    Unlike most compilers, which depend on a binary build of compiler-rt being installed alongside
    the compiler, Zig builds compiler-rt on-the-fly, from source, as needed for the
    target platform. This release saw some improvements to Zig's compiler-rt implementation.
    </p>
    TODO
    
    <h3 id="zig-cc"><a href="#toc-zig-cc">zig cc</a> <a class="hdr" href="#zig-cc">ยง</a></h3>

    <p><code>zig cc</code> is Zig's drop-in C compiler tool. Enhancements in this release:</p>
    <ul>
      <li>Support <code>-z</code> stack-size arguments.</li>
      <li>Support <code>-stack</code> in addition to <code>--stack</code> for linker arguments.</li>
      <li>Add missing clang opts: <code>-install_name</code> and <code>-undefined</code>.</li>
      <li>Add support for <code>-undefined error</code> (#14046).</li>
      <li>Avoid passing redzone args when targeting powerpc.</li>
      <li>Support <code>-x</code> to override the language.</li>
      <li>Support <code>-wrap</code> <a href="#Linker">Linker</a> flag (#15097).</li>
      <li>Support <code>-r</code> (#11683).</li>
      <li>Properly pass soft-float option for MIPS assembly files.</li>
      <li>Fixed generating <a href="#COFF">COFF</a> debug info on GNU ABIs.</li>
      <li>Support <code>--dynamicbase</code> <a href="#Linker">Linker</a> flag.</li>
      <li>Support reading from stdin (#14462).</li>
      <li>Implement <code>-###</code> (dry run) (#7170).</li>
      <li>Support <code>-l :path/to/lib.so</code> (#15743).</li>
      <li>Support <code>--version</code> <a href="#Linker">Linker</a> argument (#15549).</li>
      <li>Support <code>-version-script</code>.</li>
    </ul>
    <p>This feature is covered by our <a href="#Bug-Stability-Program">Bug Stability Program</a>.</p>
    

    <h3 id="zig-c"><a href="#toc-zig-c">zig c++</a> <a class="hdr" href="#zig-c">ยง</a></h3>

    <p><code>zig c++</code> is equivalent to <a href="#zig-cc">zig cc</a> with an added <code>-lc++</code>
    parameter, but I made a separate heading here because I realized that some people are
    not aware that Zig supports compiling C++ code and providing libc++ too!
    </p>

    <figure><figcaption class="c-cap"><cite class="file">hello.cpp</cite></figcaption><pre><code><span class="line">#include &lt;iostream&gt;</span>
<span class="line">int main() {</span>
<span class="line">    std::cout &lt;&lt; &quot;Hello World!&quot; &gt;&gt; std::endl;</span>
<span class="line">    return 0;</span>
<span class="line">}</span></code></pre></figure>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig c++ -o hello hello.cpp</kbd>
$ <kbd>./hello</kbd>
Hello World!
</samp></pre></figure>
    <p>Cross-compiling too, of course:</p>
    <figure><figcaption class="shell-cap">Shell</figcaption><pre><samp>$ <kbd>zig c++ -o hello hello.cpp -target riscv64-linux</kbd>
$ <kbd>qemu-riscv64 ./hello</kbd>
Hello World!
</samp></pre></figure>
    <p>
    One thing that trips people up when they use this feature is that the
    <strong>C++ ABI is not stable across compilers</strong>, so always remember the rule:
    You must use the same C++ compiler to compile <em>all</em> your objects and static libraries.
    This is an unfortunate limitation of C++ which Zig can never fix.
    </p>
    

    <h3 id="zig-fmt"><a href="#toc-zig-fmt">zig fmt</a> <a class="hdr" href="#zig-fmt">ยง</a></h3>

    <ul>
      <li>TODO</li>
    </ul>
commit 68d2f68ed823984a59724e256e78c5654d55b088
Author: yujiri8 <yujiri@disroot.org>
Date:   Fri Dec 16 22:24:58 2022 +0000

    zig fmt: fix extra whitespace with multiline strings
    
    Fixes #13937

    <h4 id="Canonicalization-of-Identifiers"><a href="#toc-Canonicalization-of-Identifiers">Canonicalization of Identifiers</a> <a class="hdr" href="#Canonicalization-of-Identifiers">ยง</a></h4>

    <p>This adds new behavior to <code>zig fmt</code> which normalizes (renders a canonical form of) quoted identifiers like <code>@&quot;hi_mom&quot;</code> to some extent. This can make codebases more consistent and searchable.</p>
    <p>To prevent making the details of Unicode and UTF-8 dependencies of the Zig language, only bytes in the ASCII range are interpreted and normalized. Besides avoiding complexity, this means invalid UTF-8 strings cannot break <code>zig fmt</code>.</p>
    <p>Both the tokenizer and the new formatting logic may overlook certain errors in quoted identifiers, such as nonsense escape sequences like <code>\m</code>. For now, those are ignored and we defer to existing later analysis to catch.</p>
    <p>This change is not expected to break any existing code.</p>
    <h2 id="behavior">Behavior</h2>
    <p>Below, &quot;verbatim&quot; means &quot;as it was in the original source&quot;; in other words, not altered.</p>
    <ul>
    <li>If an identifier is bare (not quoted) in the original source, no change is made. Everything below only applies to quoted identifiers.</li>
    <li>Quoted identifiers are processed byte-wise, not interpreted as a UTF-8 sequence.</li>
    <li><code>\x</code> and <code>\u</code> escapes are processed.<ul>
    <li>If the escape sequence itself is invalid, the sequence is rendered verbatim.</li>
    <li>If the un-escaped codepoint is not ASCII, the sequence is rendered verbatim.</li>
    <li>Otherwise, the character is rendered with <a href="https://github.com/ziglang/zig/blob/cbdd21c/lib/std/zig/fmt.zig#L50-L87"><code>formatEscapes</code></a> rules: either literally or <code>\x</code>-escaped as needed.</li>
    </ul>
    </li>
    <li>If the resulting identifier still contains escapes, it it remains quoted.</li>
    <li>If the resulting identifier is not a valid bare symbol (<code>[A-Za-z_][A-Za-z0-9_]*</code>), it remains quoted.</li>
    <li>If the resulting identifier is a keyword, it remains quoted.</li>
    <li>If the resulting identifier is a primitive value/type (<code>i33</code>, <code>void</code>, <code>type</code>, <code>null</code>, <code>_</code>, etc.), it is rendered unquoted if the syntactical context allows it (field access, container member), otherwise it remains quoted.</li>
    <li>Otherwise, it is unquoted. Celebrate in the manner of your choosing.</li>
    </ul>
    <p>(#166)</p>
    
    

    <h3 id="zig-objcopy"><a href="#toc-zig-objcopy">zig objcopy</a> <a class="hdr" href="#zig-objcopy">ยง</a></h3>

    <p>This is a new subcommand added in this release. Functionality is limited,
      but we can add features as needed. This subcommand has no dependency
      on <a href="#LLVM-16">LLVM</a>.</p>
    

    

    <h2 id="Roadmap"><a href="#toc-Roadmap">Roadmap</a> <a class="hdr" href="#Roadmap">ยง</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_8.svg" style="height: 12em; float: right; transform: scaleX(-1)">

    <p>The major themes of the 0.12.0 release cycle will be
    <strong>language changes</strong>,
    <strong>compilation speed</strong>, and <strong>package management</strong>.
    </p>

    <p>Some upcoming milestones we will be working towards in the 0.12.0 release cycle:</p>
    <ul>
      <li>Many <a href="#Accepted-Proposals">Accepted Proposals</a> implemented. Expect breakage!</li>
      <li>Behavior tests passing for the <a href="#x86-Backend">x86 Backend</a>, <a href="#aarch64-Backend">aarch64 Backend</a>, and
        <a href="#WebAssembly-Backend">WebAssembly Backend</a>.
        Unleashes our full compilation speed when targeting the respective architecture.</li>
      <li>Fuzz test <a href="#Incremental-Compilation">Incremental Compilation</a> so that we can enable it and gain compilation
        speed for all backends, including the <a href="#LLVM-16">LLVM</a> backend.</li>
      <li><a href="#Linker">Linker</a> support for <a href="#ELF">ELF</a> and <a href="#COFF">COFF</a>.
        Eliminate dependency on <a href="https://lld.llvm.org/">LLD</a>.</li>
      <li>Hot code swapping for <a href="#Windows">Windows</a>, <a href="#macOS">macOS</a>, and <a href="#Linux">Linux</a>.</li>
      <li>Introduce <a href="#Concurrency">Concurrency</a> to semantic analysis to further increase compilation speed.</li>
      <li>An explosion of reusable packages in the Zig ecosystem, creating the need for
        <a href="https://github.com/ziglang/zig/issues/14288">additional tooling</a>
        to deal with <a href="#Build-System">Build System</a> dependency trees.</li>
    </ul>

    <p>Here are the <strong>steps for Zig to reach 1.0</strong>:</p>
    <ol>
      <li>Stabilize the language. No more <a href="#Language-Changes">Language Changes</a> after this.</li>
      <li>Complete the language specification first draft.</li>
      <li>Stabilize the <a href="#Build-System">Build System</a> (this includes <a href="#Package-Management">Package Management</a>).</li>
      <li>Stabilize the <a href="#Standard-Library">Standard Library</a>. That means to add any missing functionality,
        audit the existing functionality, curate it, re-organize everything, and
        fix all the <a href="#Bug-Fixes">bugs</a>.</li>
      <li>Go one full release cycle without any breaking changes.</li>
      <li>Finally we can tag 1.0.</li>
    </ol>

    <h3 id="Accepted-Proposals"><a href="#toc-Accepted-Proposals">Accepted Proposals</a> <a class="hdr" href="#Accepted-Proposals">ยง</a></h3>

    <p>
    If you want more of a sense of the direction Zig is heading, you can look at
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">the set of accepted proposals</a>.
    </p>
    
    

    <h2 id="Thank-You-Contributors"><a href="#toc-Thank-You-Contributors">Thank You Contributors!</a> <a class="hdr" href="#Thank-You-Contributors">ยง</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_7.svg" style="height: 11em; float: right">
    <p>Here are all the people who landed at least one contribution into this release:</p>
    <ul style="columns: 3">
      TODO
    </ul>
    

    <h2 id="Thank-You-Sponsors"><a href="#toc-Thank-You-Sponsors">Thank You Sponsors!</a> <a class="hdr" href="#Thank-You-Sponsors">ยง</a></h2>

    <img alt="Ziggy the Ziguana" src="https://ziglang.org/img/Ziggy_6.svg" style="height: 18em">
    <p>
    Special thanks to those who <a href="/zsf/">sponsor Zig</a>.
    Because of you, Zig is driven by the open source community, rather than the goal of making profit.
    In particular, these fine folks sponsor Zig for $50/month or more:
    </p>
    <ul style="columns: 3">
      TODO
    </ul>
    
    </div>
  </body>
</html>
TODO check with tidy
